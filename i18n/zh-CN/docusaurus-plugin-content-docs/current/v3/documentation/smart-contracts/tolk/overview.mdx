---
title: 概述
---

import Feedback from "@site/src/components/Feedback";
import Button from "@site/src/components/button";

# Tolk language: overview

**Tolk** is a new language for writing smart contracts in TON.
Tolk compiler is a fork of FunC compiler, introducing familiar syntax similar to TypeScript
but leaving all low-level optimizations untouched. Think of Tolk as the next‑generation FunC.

```tolk
import "storage.tolk"

fun loadData() {
    ctxCounter = contract.getData().beginParse().loadUint(32);
}

fun onInternalMessage(msgValue: int, msgFull: cell, msgBody: slice) {
    var cs = msgFull.beginParse();
    var flags = cs.loadMessageFlags();
    if (isMessageBounced(flags)) {
        return;
    }
    ...
}

get currentCounter(): int {
    loadData(); // fills global variables
    return ctxCounter;
}
```

<details>
  <summary><b>参见用 FunC 实现的相同逻辑</b></summary>

```func
#include "storage.fc";

() load_data() impure {
  slice cs = get_data().begin_parse();
  ctx_counter = cs~load_uint(32);
}

() recv_internal(int msg_value, cell msg_full, slice msg_body) impure {
  slice cs = msg_full.begin_parse();
  int flags = cs.load_uint(4);
  if (flags & 1) {
    return ();
  }
  ...
}

int currentCounter() method_id {
  load_data(); ;; fills global variables
  return ctx_counter;
}
```

</details>

<Button
  href="https://github.com/ton-blockchain/convert-func-to-tolk"
  colorType={"primary"}
  sizeType={"sm"}
>
  Try a FunC → Tolk converter
</Button>
<Button
  href="/v3/documentation/smart-contracts/tolk/tolk-vs-func/in-short"
  colorType={"secondary"}
  sizeType={"sm"}
>
  Tolk vs FunC differences
</Button>
<div style={{ height: "2em" }}></div>

## Tolk 背后的动机

FunC is awesome.
It is low-level and encourages a programmer to think about compiler internals.
It gives complete control over TVM assembler, allowing a programmer to make his contract as effective as possible.
If you get used to it, you love it.

但有一个问题。
FunC 是 "函数式 C"，是为忍者设计的。
如果你热衷于 Lisp 和 Haskell，你会很高兴。
但如果你是一名 JavaScript / Go / Kotlin 开发者，它的语法对你来说很特别，会导致你偶尔犯错。
语法上的困难可能会降低您钻研 TON 的动力。

Imagine what if there was a language that was smart and low-level but not functional and not like C?
Leaving all beauty and complexity inside, what if it would be more similar to popular languages at first glance?

这就是 Tolk 的意义所在。

## 从 FunC 迁移到 Tolk

如果您了解 FunC 并想尝试新的语法，您的方法是

1. 阅读 [Tolk vs FunC: in short](/v3/documentation/smart-contracts/tolk/tolk-vs-func/in-short)。
2. With a blueprint, create a new Tolk contract (for example, a counter) and experiment around it. Remember that almost all stdlib functions are renamed to ~~verbose~~ clear names. Here is [a mapping](/v3/documentation/smart-contracts/tolk/tolk-vs-func/stdlib).
3. Try a [converter](https://github.com/ton-blockchain/convert-func-to-tolk) for your existing contracts or one from [FunC contracts](/v3/documentation/smart-contracts/contracts-specs/examples). Remember that contracts written in Tolk from scratch look nicer than auto-converted ones. For instance, using logical operators instead of bitwise tremendously increases code readability.

## 如果不了解 FunC，如何尝试 Tolk

:::tip 目前，本文档假定您知道 FunC
This section describes the **Tolk vs FunC** differences.
Later, it will be adapted to land newcomers. Moreover, FunC will eventually become deprecated for onboarding,
and all code snippets throughout the documentation will be rewritten for Tolk.
:::

如果您是 TON 的新用户，您的方法是

1. Dig into [this documentation](/v3/documentation/smart-contracts/overview) to acquire basic on development in TON. No matter your language, you must be aware of cells, slices, and TON asynchronous nature.
2. Facing FunC snippets, you can still use FunC or try to express the same in Tolk. If FunC syntax is peculiar to you, don't worry: the goal of Tolk is to fix this issue precisely.
3. Once you understand what's happening, try using Tolk with [blueprint](https://github.com/ton-org/blueprint).

## Tooling around Tolk language

Tolk 编译器的源代码是 `ton-blockchain` [repo](https://github.com/ton-blockchain/ton) 的一部分。
除了编译器，我们还有

1. [tolk-js](https://github.com/ton-blockchain/tolk-js) - Tolk 编译器的 WASM 封装。
2. [JetBrains IDE 插件](https://github.com/ton-blockchain/intellij-ton) 除支持 FunC、Fift、TL/B 和 Tact 外，还支持 Tolk。
3. [VS 代码扩展](https://github.com/ton-blockchain/tolk-vscode) 启用 Tolk 语言支持。
4. [从 FunC 到 Tolk 的转换器](https://github.com/ton-blockchain/convert-func-to-tolk) - 使用一条 `npx` 命令将 `.fc` 文件转换为 `.tolk` 文件。
5. Tolk 可在 [ blueprint ](https://github.com/ton-org/blueprint)中使用。

## Tolk 可以生产吗？

Tolk编译器是FunC编译器的一个分叉，尽管目前还处于试验阶段，但已经可以投入生产。

Undiscovered bugs may exist, potentially inherited from FunC or attributable to TVM characteristics.
Anyway, no matter your language, you should cover your contracts with tests to reach high reliability.

## 路线图

Tolk 的第一个发布版本是 v0.6，强调 [missing](/v3/documentation/smart-contracts/tolk/changelog#how-tolk-was-born) FunC v0.5。

Here are some points to investigate:

- type system improvements
- 有方法的结构，可能还包括内置类型
- 在语法上或通过代码生成与 TL 方案进行一些整合
- easier message sending
- better experience for everyday use cases: jettons, NFT, etc.
- 为常见的使用情况提供更好的体验（jettons、nft 等）。
- gas 和堆栈优化、AST 内联
- some ABI (how explorers "see" bytecode)
- 考虑某种 ABI（探索者如何 "看到 "字节码）

The following strategic milestone for **Tolk v1.0** is structures with auto-serialization into cells.

This milestone eliminates manual manipulations with builders and slices, allowing data and messages to be described declaratively.
Closely related to this is the **ABI (interface) of contracts**.
Well-designed structures make up the majority of an ABI.

## Issues and contacts

If you face an issue, connect to developer society on [TON Dev Chats](https://t.me/addlist/1r5Vcb8eljk5Yzcy) or create GitHub issues.

## See also

- [Tolk vs FunC: in short](/v3/documentation/smart-contracts/tolk/tolk-vs-func/in-short)

<Feedback />
