# راهنمای استخراج TON

:::warning منسوخ شده
این اطلاعات ممکن است کهنه و دیگر معتبر نباشد. می‌توانید از آن چشم‌پوشی کنید.
:::

## <a id="introduction"></a>معرفی

این سند معرفی فرآیند استخراج Toncoin با استفاده از فراهم‌کننده‌های PoW را ارائه می‌دهد. لطفاً برای وضعیت به‌روز استخراج TON به [ton.org/mining](https://ton.org/mining) مراجعه کنید.

## <a id="quick-start"></a>شروع سریع

برای شروع به استخراج بلافاصله:

1. [کامپیوتر مناسب برای استخراج](#hardware) را به‌دست آورید.
2. توزیع نسخه دسکتاپ یا سرور [اوبونتو](https://ubuntu.com) ۲۰٫۰۴ را نصب کنید.
3. [mytonctrl](https://github.com/igroman787/mytonctrl#installation-ubuntu) را در حالت `lite` نصب کنید.
4. سخت‌افزار خود را بررسی کرده و [درآمد تخمینی استخراج](/v3/documentation/archive/mining#income-estimates) خود را با اجرای دستور `emi` در `mytonctrl` چک کنید.
5. اگر هنوز ندارید، یک `آدرس کیف‌پول` با استفاده از یکی از [کیف‌پول‌ها](https://www.ton.org/wallets) ایجاد کنید.
6. آدرس کیف‌پول خود را به‌عنوان هدف استخراج با اجرای `set minerAddr "..."` در `mytonctrl` تعریف کنید.
7. یک قرارداد ارائه‌دهنده از لیست موجود در [ton.org/mining](https://ton.org/mining) انتخاب کنید و با اجرای `set powAddr "..."` در `mytonctrl`، ماینر خود را برای استخراج آن تنظیم کنید.
8. با اجرای `mon` در `mytonctrl` استخراج را شروع کنید
9. بارگذاری CPU در کامپیوتر خود را بررسی کنید؛ فرآیندی به‌نام `pow-miner` باید تقریباً بیشتر CPU شما را استفاده کند.
10. منتظر بمانید تا خوش‌شانس شوید؛ خروجی مرحله ۴ باید به شما نشان دهد که به‌طور تقریبی چقدر احتمال دارد که یک بلاک را استخراج کنید.

## <a id="basics"></a>اصول اولیه

تونکوین توسط `ارائه‌دهنده PoW` توزیع می‌شود، که قراردادهای هوشمندی هستند که مقدار مشخصی از تونکوین به آن‌ها اختصاص داده شده است. در حال حاضر، در شبکه TON، ۱۰ مورد به‌طور فعال از ارائه‌دهنده‌‌های PoW وجود دارد. هر ارائه‌دهنده سکه‌ها را در بلوک‌های ۱۰۰ تون توزیع می‌کند. برای به دست آوردن یکی از این بلوک‌ها، کامپیوتر شما باید سریع‌تر از ماینرهای دیگر یک چالش ریاضی پیچیده را حل کند. اگر یک ماینر دیگر زودتر از شما مسئله را حل کند، کار ماشین شما کنار گذاشته می‌شود و یک دور جدید آغاز می‌گردد.

سودهای استخراج به‌صورت تدریجی نیست؛ آن‌ها به‌صورت دسته‌های ۱۰۰ تون برای هر چالش ارائه‌دهنده موفق می‌آیند. این بدان معناست که اگر دستگاه شما شانس ۱۰ درصدی داشته باشد که در عرض ۲۴ ساعت یک بلوک محاسبه کند (به گام ۴ [آغاز سریع](/v3/documentation/archive/mining#quick-start) مراجعه کنید)، به احتمال زیاد باید حدود ۱۰ روز صبر کنید تا جایزه ۱۰۰ تون دریافت کنید.

فرآیند استخراج عمدتاً توسط `mytonctrl` خودکار شده است. اطلاعات دقیق درباره فرآیند استخراج را می‌توان در سند [ارائه‌دهنده‌های PoW](https://www.ton.org/#/howto/pow-givers) پیدا کرد.

## <a id="advanced"></a>پیشرفته

اگر در ماینینگ جدی هستید و می‌خواهید چندین ماشین یا یک مزرعه ماینینگ را اداره کنید، ضروری است در مورد TON و نحوه کار کردن استخراج اطلاعاتی کسب کنید. برای اطلاعات دقیق به بخش [HOWTO](https://ton.org/#/howto/) مراجعه کنید. اینجا چند توصیه عمومی ارائه شده است:

- **حتماً** نود/لایت سرور خود را روی ماشینی جداگانه اجرا کنید؛ این امر اطمینان حاصل می‌کند که مزرعه استخراج شما به لایت سرورهای خارجی که ممکن است قطع شوند یا نتوانند به سرعت به درخواست‌های شما پاسخ دهند، وابسته نباشد.
- **هرگز** لایت سرورهای عمومی را با درخواست‌های `get_pow_params` بمباران نکنید. اگر اسکریپت‌های سفارشی‌ای دارید که وضعیت ارائه‌دهندگان را به‌صورت مکرر پایش می‌کند، **باید** از لایت سرور خود استفاده کنید. مشتریانی که این قانون را نقض می‌کنند، خطر قرار گرفتن آدرس IP خود در لیست سیاه لایت سرورهای عمومی را دارند.
- **حتماً** سعی کنید بفهمید که [فرآیند استخراج](https://www.ton.org/#/howto/pow-givers) چگونه کار می‌کند؛ اکثر ماینرهای بزرگ از اسکریپت‌های خود استفاده می‌کنند که در محیط‌هایی با چندین ماشین استخراج مزایای بسیاری نسبت به `mytonctrl` ارائه می‌دهد.

## <a id="hardware"></a>سخت‌افزار ماینر

هش‌ریت کلی شبکه استخراج TON بسیار بالا است؛ ماینرها اگر می‌خواهند موفق شوند نیاز به ماشین‌های با عملکرد بالا دارند. استخراج روی کامپیوترهای خانگی معمولی و نوت‌بوک‌ها بیهوده است، و ما توصیه نمی‌کنیم که چنین تلاش‌هایی انجام دهید.

#### CPU

یک پردازنده مدرن که از [Intel SHA Extension](https://en.wikipedia.org/wiki/Intel_SHA_extensions) پشتیبانی می‌کند، **ضروری** است. اکثر ماینرها از ماشین‌های AMD EPYC یا Threadripper با حداقل ۳۲ هسته و ۶۴ رشته استفاده می‌کنند.

#### GPU

بله! شما می‌توانید از GPU برای استخراج TON استفاده کنید. یک نسخه از ماینر PoW وجود دارد که قادر است از هر دو GPU‌های Nvidia و AMD استفاده کند؛ می‌توانید کد و دستورالعمل‌های استفاده از آن را در مخزن [POW Miner GPU](https://github.com/tontechio/pow-miner-gpu/blob/main/crypto/util/pow-miner-howto.md) پیدا کنید.

در حال حاضر، برای استفاده از این، نیاز به دانش فنی بالایی است، اما ما در حال کار بر روی یک راه‌حل کاربر پسندتر هستیم.

#### حافظه

تقریباً کل فرآیند استخراج در حافظه کش L2 پردازنده اتفاق می‌افتد. این بدان معنی است که سرعت و اندازه حافظه در سهولت استخراج هیچ نقشی ندارد. یک سیستم دوتایی AMD EPYC با یک DIMM روی یک کانال حافظه سرعتی مشابه با سیستمی که شانزده DIMM با کانال‌های مشغول دارد، استخراج می‌کند.

لطفاً توجه داشته باشید که این فقط برای فرآیند استخراج ساده اعمال می‌شود، اگر ماشین شما نود کامل یا فرآیندهای دیگر را اجرا کند، وضعیت تغییر خواهد کرد! اما این خارج از حوزه این راهنما است.

#### حافظه

ماینری که در حالت سبک اجرا می‌شود، فضای ذخیره‌سازی حداقلی استفاده کرده و داده‌ها را ذخیره نمی‌کند.

#### شبکه

ماینر ساده نیاز دارد که بتواند اتصالات خروجی به اینترنت را باز کند.

#### FPGA / ASIC

ببینید [می‌توانم از FPGA / ASIC استفاده کنم؟](/v3/documentation/archive/mining#can-i-use-my-btceth-rig-to-mine-ton)

### <a id="hardware-cloud"></a>ماشین‌های ابری

بسیاری از افراد از ماشین‌های رایانش ابری AWS یا گوگل برای استخراج استفاده می‌کنند. همانطور که در مشخصات بالا توضیح داده شد، چیزی که واقعاً اهمیت دارد CPU است. بنابراین، ما اینستنس‌های AWS [c5a.24xlarge](https://aws.amazon.com/ec2/instance-types/c5/) یا گوگل [n2d-highcpu-224](https://cloud.google.com/compute/vm-instance-pricing) را توصیه می‌کنیم.

### <a id="hardware-estimates"></a>برآورد درآمد

فرمول محاسبه درآمد بسیار ساده است: `($total_bleed / $total_hashrate) * $your_hashrate`. این به شما یک برآورد **فعلی** می‌دهد. می‌توانید متغیرها را در [ton.org/mining](https://ton.org/mining) بیابید یا از محاسبه‌گر درآمد تخمینی استخراج (`emi` command) در `mytonctrl` استفاده کنید. اینجا یک نمونه خروجی است که در ۷ اوت ۲۰۲۱ با استفاده از CPU i5-11400F ساخته شده است:

```
Mining income estimations
-----------------------------------------------------------------
Total network 24h earnings:         171635.79 TON
Average network 24h hashrate:       805276100000 HPS
Your machine hashrate:              68465900 HPS
Est. 24h chance to mine a block:    15%
Est. monthly income:                437.7 TON
```

**مهم**: لطفاً توجه داشته باشید که اطلاعات ارائه‌شده بر اساس *هش‌ریت شبکه در لحظه اجرا* است. درآمد واقعی شما با گذر زمان به عوامل زیادی وابسته خواهد بود، از جمله تغییر هش‌ریت شبکه، ارائه‌دهنده انتخابی و بخشی از شانس.

## <a id="faq"></a>پرسش‌های متداول

### <a id="faq-general"></a>عمومی

#### <a id="faq-general-posorpow"></a>آیا TON شبکه‌ی PoS است یا PoW؟

بلاکچین TON بر روی یک توافق اثبات سهام (PoS) عمل می‌کند. استخراج برای ایجاد بلوک‌های جدید ضروری نیست.

#### <a id="faq-general-pow"></a>چطور شد که TON اثبات کار است؟

خب، دلیل این است که ۵ میلیارد تون‌کوین اولیه به قراردادهای هوشمند اعطا کننده اثبات کار آد-هاک منتقل شد.
ماینینگ برای به‌دست آوردن تون‌کوین از این قرارداد هوشمند استفاده می‌شود.

#### <a id="faq-general-supply"></a>چند سکه برای ماینینگ باقی‌مانده است؟

آخرین اطلاعات در [ton.org/mining](https://ton.org/mining) موجود است، نمودارهای `bleed` را ببینید. قراردادهای اعطا کننده PoW محدودیت‌های خود را دارند و زمانی که کاربران همه تون‌کوین‌های موجود را استخراج کنند، خالی خواهند شد.

#### <a id="faq-general-mined"></a>تا کنون چند سکه ماین شده است؟

تا آگوست ۲۰۲۱، حدود ۴.۹ میلیارد تون‌کوین ماین شده است.

#### <a id="faq-general-whomined"></a>چه کسی این سکه‌ها را ماین کرده است؟

کوین‌ها به بیش از ۷۰٬۰۰۰ کیف پول ماین شده‌اند. صاحبان این کیف پول‌ها نامعلوم باقی مانده‌اند.

#### <a id="faq-general-elite"></a>آیا شروع به ماینینگ دشوار است؟

اصلاً نه. همه آنچه که نیاز دارید [سخت‌افزار مناسب](#hardware) و دنبال کردن مراحل ذکر شده در بخش [آغاز سریع](#quick-start) است.

#### <a id="faq-general-pissed"></a>آیا راه دیگری برای ماینینگ وجود دارد؟

بله، یک اپلیکیشن شخص ثالث به نام [TON Miner Bot](https://t.me/TonMinerBot) وجود دارد.

#### <a id="faq-general-stats"></a>کجا می‌توانم آمار استخراج را ببینم؟

[ton.org/mining](https://ton.org/mining)

#### <a id="faq-general-howmany"></a>چند ماینر وجود دارد؟

ما نمی‌توانیم این را بگوییم. تنها چیزی که می‌دانیم کل هش‌ریت همه ماینرها در شبکه است. با این حال، نمودارهایی در [ton.org/mining](https://ton.org/mining) وجود دارد که سعی می‌کند تعداد ماشین‌های خاصی که برای ارائه هش‌ریت تقریبی لازم است را تخمین بزند.

#### <a id="faq-general-noincome"></a>آیا برای شروع ماینینگ به تون‌کوین نیاز دارم؟

نه، نیاز ندارید. هر کسی می‌تواند بدون داشتن حتی یک تون‌کوین ماینینگ را شروع کند.

#### <a id="faq-mining-noincome"></a>چرا حتی بعد از چند ساعت استخراج، تراز کیف پول من افزایش نمی‌یابد؟

تون به صورت بلوک‌های ۱۰۰ تایی ماین می‌شود، شما یا یک بلوک را حدس می‌زنید و ۱۰۰ تون دریافت می‌کنید یا هیچ چیز دریافت نمی‌کنید. لطفاً به [اصول اولیه](#basics) مراجعه کنید.

#### <a id="faq-mining-noblocks"></a>من برای چند روز ماین کرده‌ام و هیچ نتیجه‌ای نمی‌بینم، چرا؟

آیا تخمین‌های فعلی [درآمد](/v3/documentation/archive/mining#income-estimates) خود را بررسی کرده‌اید؟ اگر فیلد `Est. 24h chance to mine a block` کمتر از ۱۰۰% است، باید صبور باشید. همچنین، توجه داشته باشید که ۵۰% شانس برای استخراج یک بلوک در ۲۴ ساعت لزوماً به معنای این نیست که در عرض ۲ روز یکی را استخراج خواهید کرد؛ ۵۰% برای هر روز جداگانه اعمال می‌شود.

#### <a id="faq-mining-pools"></a>آیا استخر‌های ماینینگ وجود دارد؟

نه، تا کنون هیچ پیاده‌سازی از استخر‌های ماینینگ وجود ندارد، همه برای خودشان ماین می‌کنند.

#### <a id="faq-mining-giver"></a>کدام اعطا کننده را باید ماین کنم؟

در حقیقت مهم نیست که کدام اعطا کننده را انتخاب کنید. سختی تمایل دارد که در هر اعطا کننده نوسان کند، بنابراین ممکن است آسان‌ترین اعطا کننده در [ton.org/mining](https://ton.org/mining) در عرض یک ساعت به پیچیده‌ترین تبدیل شود. همان در جهت مخالف نیز صادق است.

### <a id="faq-hw"></a>سخت‌افزار

#### <a id="faq-hw-machine"></a>آیا همیشه یک ماشین سریع‌تر برنده می‌شود؟

نه، همه ماینرها راه‌های متفاوتی را برای یافتن راه‌حل انتخاب می‌کنند. یک ماشین سریع‌تر احتمال موفقیت بیشتری دارد، اما تضمین کننده پیروزی نیست!

#### <a id="faq-hw-machine"></a>ماشین من چقدر درآمد تولید خواهد کرد؟

لطفاً به [تخمین‌های درآمد](/v3/documentation/archive/mining#income-estimates) مراجعه کنید.

#### <a id="faq-hw-asic"></a>آیا می‌توانم از ریگ BTC/ETH خود برای ماین TON استفاده کنم؟

خیر، TON از روش هشینگ SHA256 واحد استفاده می‌کند که با BTC، ETH و دیگران متفاوت است. ASICS یا FPGAهایی که برای استخراج دیگر ارزهای رمزنگاری ساخته شده‌اند، کمکی نخواهند کرد.

#### <a id="faq-hw-svsm"></a>یک ماشین سریع تنها یا چند ماشین کند کدام بهتر است؟

این موضوع مناقشه‌برانگیز است. ببینید: نرم‌افزار ماینر برای هر هسته در سیستم نخ‌ها را راه‌اندازی می‌کند و هر هسته مجموعه کلیدهای خود را برای پردازش دریافت می‌کند، بنابراین اگر شما یک ماشین دارید که می‌تواند ۶۴ نخ اجرا کند و ۴ ماشین دارید که هر کدام قادر به اجرای ۱۶ نخ هستند، آن‌ها دقیقاً همانقدر موفق خواهند بود، به شرطی که سرعت هر نخ یکسان باشد.

با این حال، در دنیای واقعی، پردازنده‌هایی با تعداد هسته کمتر معمولاً با کلاک سریع‌تری عمل می‌کنند، بنابراین ممکن است با چندین ماشین موفق‌تر باشید.

#### <a id="faq-hw-mc"></a>اگر ماشین‌های زیادی را اجرا کنم، آیا آن‌ها با هم همکاری می‌کنند؟

نه، آن‌ها همکاری نخواهند کرد. هر ماشین به خودی خود استخراج می‌کند، اما فرآیند یافتن راه‌حل تصادفی است: هیچ ماشینی، حتی یک نخ (به بالا نگاه کنید) همان مسیر را نخواهد پیمود. بنابراین، هش‌ریت آن‌ها به نفع شما بدون همکاری مستقیم جمع می‌شود.

#### <a id="faq-hw-CPU"></a>آیا می‌توانم با استفاده از CPUهای ARM ماین کنم؟

بسته به CPU، نمونه‌های AWS Graviton2 واقعاً ماینرهای بسیار توانمندی هستند و می‌توانند نسبت قیمت/عملکرد را در کنار نمونه‌های مبتنی بر AMD EPYC حفظ کنند.

### <a id="faq-software"></a>نرم‌افزار

#### <a id="faq-software-os"></a>آیا می‌توانم با استفاده از Windows/xBSD/برخی دیگر از سیستم‌عامل‌ها ماین کنم؟

البته، [سورس کد TON](https://github.com/ton-blockchain/ton) شناخته شده که بر روی Windows، xBSD و دیگر سیستم‌عامل‌ها ساخته شده است. با این حال، نصب خودکار راحتی وجود ندارد، همانطور که تحت لینوکس با `mytonctrl`، شما باید نرم‌افزار را به صورت دستی نصب کنید و اسکریپت‌های خود را ایجاد کنید. برای FreeBSD، یک سورس کد [پورت](https://github.com/sonofmom/freebsd_ton_port) وجود دارد که امکان نصب سریع را فراهم می‌کند.

#### <a id="faq-software-node1"></a>آیا ماینینگ سریع‌تر خواهد بود اگر mytonctrl را در حالت نود کامل اجرا کنم؟

خود فرآیند محاسبه سریع‌تر نخواهد شد، اما اگر نود کامل یا لایت سرور خود را اداره کنید، پایداری و مهم‌تر از همه، انعطاف‌پذیری به دست خواهید آورد.

#### <a id="faq-software-node2"></a>برای اداره یک نود کامل به چه چیزی نیاز دارم و چگونه می‌توانم آن را اجرا کنم؟

این خارج از محدوده این راهنما است، لطفاً به [راهنمای نود کامل](https://ton.org/#/howto/full-node) و/یا [دستورالعمل‌های mytonctrl](https://github.com/igroman787/mytonctrl) مراجعه کنید.

#### <a id="faq-software-build"></a>آیا می‌توانید به من در ساخت نرم‌افزار بر روی سیستم‌عامل من کمک کنید؟

این خارج از محدوده این راهنما است، لطفاً به [راهنمای نصب نود کامل](https://ton.org/#/howto/full-node) و همچنین [اسکریپت‌های نصب Mytonctrl](https://github.com/igroman787/mytonctrl/blob/master/scripts/toninstaller.sh#L44) مراجعه کنید تا اطلاعاتی درباره وابستگی‌ها و فرآیند کسب کنید.
