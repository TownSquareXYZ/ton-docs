import ConceptImage from '@site/src/components/conceptImage'

# 测试迷你应用

## 在测试环境中使用机器人

若要登录到测试环境，使用下列任一方法：

- **iOS:** 在设置图标>帐户>登录到另一个帐户>测试上点击10次。
- **Telegram Desktop：** 打开配置设置 > Shift + Alt + 右键单击“添加帐户”并选择'测试服务器。
- **macOS:** 点击设置图标10次打开调试菜单，按下“添加帐户”并通过电话号码登录。

试验环境与主要环境完全分离。 所以你需要创建一个**新的用户帐户** 和一个**新的机器人** 与 @BotFather。

在收到你的机器人令牌后，你可以以这种格式向机器人API发送请求：

`https://api.telegram.org/bot<token>/test/METHOD_NAME`

**注意：** 在测试环境中工作时，您可以使用 HTTP 链接来测试您的 Mini 应用程序。

## Mini 应用的调试模式

使用这些工具在您的 Mini App中找到特定应用的问题：

### Android

- [启用 USB-调试](https://developer.chrome.com/docs/devtools/remote-debuging/)。
- 在 Telegram 設置中，向下滚动一遍，按住**版本号**2次。
- 在调试设置中选择_启用 WebView 调试_。
- 将您的手机连接到您的电脑，打开Chrome://查看/#设备——当您在您的手机上启动它时，您将在那里看到您的 Mini 应用程序。

### Windows 和 Linux 上的 Telegram 桌面

- 下载并启动 Telegram Desktop 的[测试版](https://desktop.telegram.org/changelog#beta-version) 在 **Windows** 或 **Linux ** 上(尚未在 Telegram Desktop for macOS 上支持)。
- 转到_设置 > 高级> 实验设置 > 启用 Web 视图检查_。
- 右键点击WebView 并选择 _Inspect_。

### Telegram macOS

- 下载并启动 Telegram macOS 的[测试版](https://telegram.org/dl/macos/beta)。
- 快速点击设置图标上的5次打开调试菜单并开启“Debug Mini App”。

右键点击Mini应用并选择 _检查元素_。

## 与Eruda测试

[Eruda](https://github.com/liriri/eruda) 是一个提供网络控制台的工具，用于在移动设备和桌面浏览器上调试和检查网页的工具。 这是一个如何在 Telegram Mini Apps 项目中使用 Eruda 的分步指南。

![1](/img/docs/telegram-apps/eruda-1.png)

### 第 1 步：包括Eruda 库

首先，您需要将 Eruda 库纳入您的 HTML 文件。 您可以从 CDN 中包含它：

```html
<!-- Include Eruda from CDN (Recommended) -->
<script src="https://cdn.jsdelivr.net/npm/eruda"></script>
```

或者你可以在 npm 上拿到。

```bash npm2yarn
npm install eruda --save
```

### 第 2 步：初始化Eruda

接下来，你需要初始化 Eruda。 您通常在网页加载时执行此操作。 如果您从 CDN 运行 Eruda

```html
<script src="https://cdn.jsdelivr.net/npm/eruda"></script>
<script>
  // Initialize Eruda
  eruda.init();
</script>

```

如果您喜欢现代的配刀和包，将此脚本添加到您的项目：

```jsx
导入 'eruda'

eruda.init()
```

### 第 3 步：启动Eruda

部署您的 Mini 应用程序，启动它，只需按 Eruda 图标就可以开始调试！

<ConceptImage style={{maxWidth:'200pt', margin: '10pt 20pt 0 0', display: 'flex-box'}} src="/img/docs/telegram-apps/eruda-2.png" />
<ConceptImage style={{maxWidth:'200pt', margin: '10pt 20pt', display: 'flex-box'}}  src="/img/docs/telegram-apps/eruda-3.png" />
