import Button from '@site/src/components/button'

# 发布小程序

作为开发者，重要的是了解我们在其中运作的生态系统。 Telegram 为Mini App 开发者提供了一个独特的机会，因为它有着强大的平台和广泛的用户基础。 这篇文章将引导您通过可用的频道在 Telegram 上发布您的 Mini 应用程序。

## tApps 中心

**什么是tApps中心？** TON基金会已经引入Telegram Apps中心，为Telegram Bots和Mini Apps创建一个中央存储库。 此平台旨在通过提供一个类似于您已经熟悉的著名应用商店的接口来增强用户体验。

**广泛的生态系统支持** Telegram Apps中心不仅仅关注TON 生态系统；它还欢迎其他区块链的应用。 您甚至不需要网络3集成才能成为此目录的一部分。 这种包容性的做法旨在将 Telegram 建立成一种"Everything Super App"。 类似于WeChat等平台，用户可以在单个接口中访问多种服务。

<Button href="https://www.tapps.center/" colorType={'primary'} sizeType={'sm'}>打开tApps中心</Button>

### 为什么在 tApps 中心发布？

**更大的可视性**。 Telegram Apps中心为开发人员向广大受众展示他们的项目提供了极好的机会。 使之更容易吸引用户和投资者。

**社区精神**。 该平台包括以社区为中心的办法，鼓励协作以及分享资源和知识。

<Button href="https://blog.ton.org/ton-ecosystem-evolved-introducing-telegram-apps-center-t-apps-center" colorType={'secondary'} sizeType={'sm'}>Read more in TON Blog</Button>

## 在 Telegram 中启动

Telegram 目前支持启动Mini App的六种不同方式：取自[键盘按钮](https://core.telegram.org/bots/webapps#keyboard-buton-web-apps)，取自[inline buton](https://core.telegram.org/bots/webapps#inline-buton-web-apps)，取自[bot menu buton](https://core.telegram)。 rg/bots/webapps#launching-web-apps-from-the-menu-butor), through [inline mode](https://core.telegram.org/bots/webapps#inline-mode-web-apps), from a [direct-link-web-apps](https://core.telegram.org/bots/webapps#launching-webapps-from-the-attachment-menu).

![](/img/docs/telegram-apps/publish-tg-1.jpeg)

### 键盘按钮迷你应用

**TL;DR:** 从**web_app** 类型[keyboard buton](https://core.telegram.org/bots/api#keyboardbuton) 启动的Mini Apps 可以通过 [Telegram.WebApp.sendData](https://core.telegram.org/bots/webapps#initializing-web-apps)将数据发送回机器人。 这使机器人能够在没有与任何外部服务器通信的情况下生成响应。

用户可以使用 [自定义键盘](https://core.telegram.org/bots#keyboards)、[bot messages下的按钮](https://core.telegram)。 rg/bots#inline-kboards-and-only updating), 以及发送 freeform **文本消息** 或由 Telegram 支持的 **附件类型** ：照片和视频、文件、位置、联系人和民意测验。 为了更大的灵活性，机器人可以使用 **HTML5 ** 的全部功能来创建方便用户的输入接口。

您可以发送一个 **web_app** 类型的 [KeyboardButton](https://core.telegram.org/bots/api#keyboard按钮)，从指定的 URL 打开一个 Mini 应用。

要将数据从用户传送回机器人，Mini App 可以调用 [Telegram.WebApp.sendData](https://core.telegram.org/bots/webapps#initializing-web-apps) 方法。 数据将作为服务消息中的字符串传送到机器人。 机器人可以在收到后继续与用户通信。

**很好：**

- **使用户数据输入接口** (用于选择日期的个性化日历；从列表中选择具有高级搜索选项的数据)； 一个随机化器，让用户“旋转轮子”并选择一个可用的选项等
- **可重复使用组件** 不依赖于特定的机器人。

### 内联按钮迷你应用

**TL;DR:** 更多交互式的Mini 应用程序，如[@DurgerKingBo](https://t.me/durgerkingbot)，使用**web_app** 类型[内嵌键盘按钮](https://core)。 elegram.org/bots/api#inlinekeyboard按钮，它获取基本用户信息，并可用来代表用户发送消息到与机器人的聊天中。

如果仅接收文本数据不足，或者您需要一个更先进和个性化的接口。 您可以使用 **web_app** 类型[内嵌键盘按钮](https://core)打开 Mini 应用。 elegram.org/bots/api#inlinekeyboard按钮)。

从按钮开始，Mini应用将使用按钮中指定的URL打开. 除了用户的[主题设置](https://core.telegram) rg/bots/webapps#color-schemes)，它将收到基本的用户信息 (ID，名称，用户名) language_code) 和会话的唯一标识符，**query_id**，它允许代表用户的消息被送回机器人。

机器人可以调用 Bot API 方法 [answerWebAppQuery](https://core.telegram)。 rg/bots/api#answerwebappquery将用户的内联消息发送回机器人并关闭 Mini App。 收到消息后，机器人可以继续与用户联系。

**很好：**

- 全面的网络服务和任何类型的集成。
- 实际使用情况**无限制**。

### 从菜单按钮启动迷你应用

**TL;DR:** 小程序可以从自定义菜单按钮启动。 这只是一个更快的方式来访问应用，否则**完全一样** [从内联按钮启动Mini应用](https://core.telegram.org/bots/webapps#inline-buton-web-apps)。

默认情况下，带机器人的聊天总是显示一个方便的 **菜单按钮** ，它能够快速访问所有列出的 [commands](https://core.telegram.org/bots#commands)。 使用 [Bot API 6.0](https://core.telegram.org/bots/api-changelog#april-2022)，这个按钮可以用于**启动 Mini App** 。

要配置菜单按钮，您必须指定它应该显示的文本和 Mini App URL。 设定这些参数有两种方式：

- 要自定义**所有用户**的按钮，请使用 [@BotFather](https://t.me/botfal) (/setmenubuton 命令或_Bot Setting> Menu Button_)。
- 要自定义 **所有用户** 和 **特定用户** 的按钮，请在 Bot API 中使用 [setChatMenuButton](https://core.telegram.org/bots/api#setchatmenubuton) 方法。 例如，根据用户的语言更改按钮文本。 或在您的机器人中显示基于用户设置的不同网页应用链接。

除此之外，通过菜单按钮打开的 Web 应用程序与[使用内联按钮](https://core.telegram.org/bots/webapps#inline-buton-web-apps)完全相同。

[@DurgerKingBo](https://t.me/durgerkingbot)允许从内联按钮和菜单按钮启动它的Mini应用。

### 内联模式小程序

**TL;DR:** 通过 **web_app** 类型 [InlineQueryResultsButton]发射的小程序 (https://core.telegram.org/bots/api#inlinequerybuton) 可以在内线模式下的任何地方使用。 用户可以在 web 界面创建内容，然后通过内联模式将其无缝发送到当前聊天中。

新的你可以在 [answerInlineQuery](https://core.telegram) 中使用_按钮_ 参数。 rg/bots/api#anserlinequery方法显示一个特殊的 '切换到Mini App' 按钮，或者将其替换为内联结果。 此按钮将**从指定的 URL 打开 Mini App** 。 完成后，您可以调用 [Telegram.WebApp.switchInlineQuery](https://core.telegram.org/bots/webapps#initializing-web-apps) 方法将用户反馈到内联模式。

Mini 应用内有**没有访问** 聊天室——他们无法读取消息或代表用户发送新消息。 要发送消息，用户必须重定向到 **内联模式** 并积极选择结果。

**很好：**

- 内联模式下完全成熟的网络服务和集成。

### 直接链接迷你应用

**TL;DR:** Mini App Bots 可以从任何聊天中的直接链接中启动。 他们支持一个 _startap_ 参数，并且知道当前聊天环境。

新您可以在当前聊天中直接使用 **打开Mini App** 的直接链接。 如果链接中包含非空的 _startap_ 参数， 它将在_start_param_字段和 GET 参数_tgWebAppStartParam_中传递到 Mini App。

在此模式下，Mini 应用可以使用 _chat_type_ 和 _chat_instance_ 参数来跟踪当前聊天环境。 这引入了支持多个聊天成员**合并**和**共享**的使用方法——创建实时白板、组订单、多人游戏和类似的应用程序。

从直接链接打开的小程序有 **没有访问** 个聊天室 - 他们无法读取消息或代表用户发送新消息。 要发送消息，用户必须重定向到 **内联模式** 并积极选择结果。

**示例**

- https://t.me/botusername/appname
- https://t.me/botusername/appname?startapp=command

**很好：**

- 任何用户都可以在一次点击中打开的完全成熟的网络服务和集成。
- 聊天环境中的合作、多人游戏或团队导向的服务。

实际使用情况**无限制**。
