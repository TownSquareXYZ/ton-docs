# ë‹¨ê³„ë³„ NFT ì»¬ë ‰ì…˜ ì±„êµ´

## ğŸ‘‹ ì†Œê°œ

ëŒ€ì²´ ë¶ˆê°€ëŠ¥í•œ í† í°, ì¦‰ NFTëŠ” ë””ì§€í„¸ ì•„íŠ¸ì™€ ìˆ˜ì§‘í’ˆ ì„¸ê³„ì—ì„œ ê°€ì¥ ëœ¨ê±°ìš´ ì£¼ì œ ì¤‘ í•˜ë‚˜ê°€ ë˜ì—ˆìŠµë‹ˆë‹¤. NFTëŠ” ë¸”ë¡ì²´ì¸ ê¸°ìˆ ì„ ì‚¬ìš©í•´ ì†Œìœ ê¶Œê³¼ ì§„ìœ„ ì—¬ë¶€ë¥¼ í™•ì¸í•˜ëŠ” ê³ ìœ í•œ ë””ì§€í„¸ ìì‚°ì…ë‹ˆë‹¤. ì´ëŠ” í¬ë¦¬ì—ì´í„°ì™€ ìˆ˜ì§‘ê°€ê°€ ë””ì§€í„¸ ì•„íŠ¸, ìŒì•…, ë™ì˜ìƒ ë° ê¸°íƒ€ í˜•íƒœì˜ ë””ì§€í„¸ ì½˜í…ì¸ ë¡œ ìˆ˜ìµì„ ì°½ì¶œí•˜ê³  ê±°ë˜í•  ìˆ˜ ìˆëŠ” ìƒˆë¡œìš´ ê°€ëŠ¥ì„±ì„ ì—´ì–´ì£¼ì—ˆìŠµë‹ˆë‹¤. ìµœê·¼
ëª‡ ë…„ ë™ì•ˆ NFT ì‹œì¥ì€ í­ë°œì ìœ¼ë¡œ ì„±ì¥í•˜ì—¬ ìˆ˜ë°±ë§Œ ë‹¬ëŸ¬ì— ë‹¬í•˜ëŠ” ë§¤ì¶œì„ ê¸°ë¡í•œ ì‚¬ë¡€ë„ ìˆìŠµë‹ˆë‹¤. ì´ ê¸€ì—ì„œëŠ” TONì—ì„œ NFT ì»¬ë ‰ì…˜ì„ ë‹¨ê³„ë³„ë¡œ êµ¬ì¶•í•´ ë³´ê² ìŠµë‹ˆë‹¤.

\*\*ì´ íŠœí† ë¦¬ì–¼ì´ ëë‚  ë•Œê¹Œì§€ ë§Œë“¤ê²Œ ë  ì•„ë¦„ë‹¤ìš´ ì˜¤ë¦¬ ì»¬ë ‰ì…˜ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

![](/img/tutorials/nft/collection.png)

## ğŸ¦„ í•™ìŠµ ë‚´ìš©

1. TONì—ì„œ NFT ì»¬ë ‰ì…˜ì„ ë°œí–‰í•©ë‹ˆë‹¤.
2. TONì˜ NFTê°€ ì–´ë–»ê²Œ ì‘ë™í•˜ëŠ”ì§€ ì´í•´í•˜ê²Œ ë  ê²ƒì…ë‹ˆë‹¤.
3. NFTë¥¼ íŒë§¤í•©ë‹ˆë‹¤.
4. í•€íƒ€ í´ë¼ìš°ë“œ](https://pinata.cloud)ì— ë©”íƒ€ë°ì´í„°ë¥¼ ì—…ë¡œë“œí•©ë‹ˆë‹¤.

## ğŸ’¡ ì „ì œ ì¡°ê±´

2í†¤ ì´ìƒì˜ í…ŒìŠ¤íŠ¸ë„· ì§€ê°‘ì´ ì´ë¯¸ ìˆì–´ì•¼ í•©ë‹ˆë‹¤. í…ŒìŠ¤íŠ¸ë„· ì½”ì¸ì€ [@testgiver_ton_bot](https://t.me/testgiver_ton_bot)ì—ì„œ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

:::info í†¤í‚¤í¼ ì§€ê°‘ì˜ í…ŒìŠ¤íŠ¸ë„· ë²„ì „ì€ ì–´ë–»ê²Œ ì—´ ìˆ˜ ìˆë‚˜ìš”?\
í†¤í‚¤í¼ì—ì„œ í…ŒìŠ¤íŠ¸ë„· ë„¤íŠ¸ì›Œí¬ë¥¼ ì—´ë ¤ë©´ ì„¤ì •ìœ¼ë¡œ ì´ë™í•˜ì—¬ í•˜ë‹¨ì— ìˆëŠ” í†¤í‚¤í¼ ë¡œê³ ë¥¼ 5ë²ˆ í´ë¦­í•œ í›„ ë©”ì¸ë„· ëŒ€ì‹  í…ŒìŠ¤íŠ¸ë„·ì„ ì„ íƒí•©ë‹ˆë‹¤.
:::

Pinataë¥¼ IPFS ìŠ¤í† ë¦¬ì§€ ì‹œìŠ¤í…œìœ¼ë¡œ ì‚¬ìš©í•  ê²ƒì´ë¯€ë¡œ [pinata.cloud](https://pinata.cloud)ì—ì„œ ê³„ì •ì„ ë§Œë“¤ê³  api_key ë° api_secreatë¥¼ ë°›ì•„ì•¼ í•©ë‹ˆë‹¤. ê³µì‹ Pinata [ë¬¸ì„œ íŠœí† ë¦¬ì–¼](https://docs.pinata.cloud/pinata-api/authentication)ì—ì„œ ë„ì›€ì„ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ API í† í°ì„ ë°›ìœ¼ì‹œë©´ ì—¬ê¸°ì„œ ê¸°ë‹¤ë¦¬ê³  ìˆì„ê²Œìš”!!!

## ğŸ’ TONì˜ NFTë€ ë¬´ì—‡ì¸ê°€ìš”?

íŠœí† ë¦¬ì–¼ì˜ ì£¼ìš” ë¶€ë¶„ì„ ì‹œì‘í•˜ê¸° ì „ì— ì‹¤ì œë¡œ NFTê°€ TONì—ì„œ ì¼ë°˜ì ìœ¼ë¡œ ì–´ë–»ê²Œ ì‘ë™í•˜ëŠ”ì§€ ì´í•´í•´ì•¼í•©ë‹ˆë‹¤. ê·¸ë¦¬ê³  ì˜ˆê¸°ì¹˜ ì•Šê²Œë„ ì—…ê³„ì˜ ì¼ë°˜ì ì¸ ë¸”ë¡ì²´ì¸ê³¼ ë¹„êµí•˜ì—¬ TONì—ì„œ NFT êµ¬í˜„ì˜ íŠ¹ì„±ì´ ë¬´ì—‡ì¸ì§€ ì´í•´í•˜ê¸° ìœ„í•´ NFTê°€ ETHì—ì„œ ì–´ë–»ê²Œ ì‘ë™í•˜ëŠ”ì§€ì— ëŒ€í•œ ì„¤ëª…ë¶€í„° ì‹œì‘í•˜ê² ìŠµë‹ˆë‹¤.

### ì´ë”ë¦¬ì›€ì—ì„œ NFT êµ¬í˜„

ì´ë”ë¦¬ì›€ì—ì„œ NFTë¥¼ êµ¬í˜„í•˜ëŠ” ê²ƒì€ ë§¤ìš° ê°„ë‹¨í•©ë‹ˆë‹¤. ê°„ë‹¨í•œ í•´ì‹œë§µì„ ì €ì¥í•˜ëŠ” ì»¬ë ‰ì…˜ì˜ ë©”ì¸ ì»¨íŠ¸ë™íŠ¸ê°€ í•˜ë‚˜ ìˆê³ , ì´ ì»¬ë ‰ì…˜ì˜ NFT ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” ì»¨íŠ¸ë™íŠ¸ê°€ í•˜ë‚˜ ìˆìŠµë‹ˆë‹¤. ì´ ì»¬ë ‰ì…˜ê³¼ ê´€ë ¨ëœ ëª¨ë“  ìš”ì²­(ì‚¬ìš©ìê°€ NFTë¥¼ ì „ì†¡í•˜ê±°ë‚˜ íŒë§¤í•˜ê³ ì í•˜ëŠ” ê²½ìš° ë“±)ì€ ì´ ì»¬ë ‰ì…˜ì˜ ì»¨íŠ¸ë™íŠ¸ 1ê°œë¡œë§Œ ì „ì†¡ë©ë‹ˆë‹¤.

![](/img/tutorials/nft/eth-collection.png)

### TONì—ì„œ ì´ëŸ¬í•œ êµ¬í˜„ìœ¼ë¡œ ë°œìƒí•  ìˆ˜ ìˆëŠ” ë¬¸ì œ

TONì˜ ë§¥ë½ì—ì„œ ì´ëŸ¬í•œ êµ¬í˜„ì˜ ë¬¸ì œì ì€ TONì˜ [NFT ìŠ¤íƒ ë“œì•„íŠ¸](https://github.com/ton-blockchain/TEPs/blob/master/text/0062-nft-standard.md)ì— ì™„ë²½í•˜ê²Œ ì„¤ëª…ë˜ì–´ ìˆìŠµë‹ˆë‹¤:

- ì˜ˆì¸¡í•  ìˆ˜ ì—†ëŠ” ê°€ìŠ¤ ì†Œë¹„. TONì—ì„œ ì‚¬ì „ ì—°ì‚°ì„ ìœ„í•œ ê°€ìŠ¤ ì†Œë¹„ëŸ‰ì€ ì •í™•í•œ í‚¤ ì„¸íŠ¸ì— ë”°ë¼ ë‹¬ë¼ì§‘ë‹ˆë‹¤. ë˜í•œ TONì€ ë¹„ë™ê¸°ì‹ ë¸”ë¡ì²´ì¸ì…ë‹ˆë‹¤. ì¦‰, ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ì— ë©”ì‹œì§€ë¥¼ ë³´ë‚´ë©´ ë©”ì‹œì§€ ì´ì „ì— ë‹¤ë¥¸ ì‚¬ìš©ìì˜ ë©”ì‹œì§€ê°€ ì–¼ë§ˆë‚˜ ë§ì€ ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ì— ë„ë‹¬í• ì§€ ì•Œ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ë©”ì‹œì§€ê°€ ìŠ¤ë§ˆíŠ¸ ì½˜íŠ¸ë™íŠ¸ì— ë„ë‹¬í•˜ëŠ” ìˆœê°„ ì‚¬ì „ì˜ í¬ê¸°ê°€ ì–´ë–»ê²Œ ë ì§€ ì•Œ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì´ëŠ” ë‹¨ìˆœí•œ ì§€ê°‘-> NFT ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ ìƒí˜¸ì‘ìš©ì—ì„œëŠ” ê´œì°®ì§€ë§Œ, ì§€ê°‘-> NFT ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸-> ê²½ë§¤-> NFT ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ì™€ ê°™ì€ ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ ì²´ì¸ì—ì„œëŠ” í—ˆìš©ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ê°€ìŠ¤ ì†Œë¹„ëŸ‰ì„ ì˜ˆì¸¡í•  ìˆ˜ ì—†ëŠ” ê²½ìš°, NFT ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ì—ì„œ ì†Œìœ ìê°€ ë³€ê²½ë˜ì—ˆì§€ë§Œ ê²½ë§¤ ì‘ì—…ì— í•„ìš”í•œ í†¤ì½”ì¸ì´ ì¶©ë¶„í•˜ì§€ ì•Šì€ ìƒí™©ì´ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì‚¬ì „ ì—†ì´ ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ë¥¼ ì‚¬ìš©í•˜ë©´ ê°€ìŠ¤ ì†Œë¹„ëŸ‰ì„ ê²°ì •ì ìœ¼ë¡œ ì˜ˆì¸¡í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

- í™•ì¥ë˜ì§€ ì•ŠìŒ(ë³‘ëª© í˜„ìƒì´ ë°œìƒí•¨). TONì˜ í™•ì¥ì€ ìƒ¤ë”©, ì¦‰ ë¶€í•˜ê°€ ê±¸ë ¸ì„ ë•Œ ë„¤íŠ¸ì›Œí¬ë¥¼ ìƒ¤ë“œì²´ì¸ìœ¼ë¡œ ìë™ ë¶„í• í•˜ëŠ” ê°œë…ì„ ê¸°ë°˜ìœ¼ë¡œ í•©ë‹ˆë‹¤. ì¸ê¸°ìˆëŠ” NFTì˜ ë‹¨ì¼ ëŒ€í˜• ìŠ¤ë§ˆíŠ¸ ì½˜íŠ¸ë™íŠ¸ëŠ” ì´ ê°œë…ê³¼ ëª¨ìˆœë©ë‹ˆë‹¤. ì´ ê²½ìš° ë§ì€ íŠ¸ëœì­ì…˜ì´ í•˜ë‚˜ì˜ ìŠ¤ë§ˆíŠ¸ ì½˜íŠ¸ë™íŠ¸ë¥¼ ì°¸ì¡°í•˜ê²Œ ë©ë‹ˆë‹¤. TON ì•„í‚¤í…ì²˜ëŠ” ìƒ¤ë“œí™”ëœ ìŠ¤ë§ˆíŠ¸ ì½˜íŠ¸ë™íŠ¸ë¥¼ ì œê³µí•˜ì§€ë§Œ(ë°±ì„œ ì°¸ì¡°), í˜„ì¬ë¡œì„œëŠ” êµ¬í˜„ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.

\*í™•ì¥ì„±ì´ ë–¨ì–´ì§€ê³  TONê³¼ ê°™ì€ ë¹„ë™ê¸°ì‹ ë¸”ë¡ì²´ì¸ì—ëŠ” ì í•©í•˜ì§€ ì•Šì€ TL;DR ETH ì†”ë£¨ì…˜ì…ë‹ˆë‹¤.

### TON NFT êµ¬í˜„

TONì—ëŠ” ë©”íƒ€ë°ì´í„°ì™€ ì†Œìœ ìì˜ ì£¼ì†Œë¥¼ ì €ì¥í•˜ëŠ” ì»¬ë ‰ì…˜ì˜ ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ì¸ ë§ˆìŠ¤í„° ì»¨íŠ¸ë™íŠ¸ê°€ í•˜ë‚˜ ìˆìœ¼ë©°, ê°€ì¥ ì¤‘ìš”í•œ ê²ƒì€ ìƒˆë¡œìš´ NFT ì•„ì´í…œì„ ìƒì„±("ë¯¼íŠ¸")í•˜ê³  ì‹¶ë‹¤ë©´ ì´ ì»¬ë ‰ì…˜ ì»¨íŠ¸ë™íŠ¸ì— ë©”ì‹œì§€ë¥¼ ë³´ë‚´ê¸°ë§Œ í•˜ë©´ ëœë‹¤ëŠ” ì ì…ë‹ˆë‹¤. ê·¸ë¦¬ê³  ì´ ì»¬ë ‰ì…˜ ì»¨íŠ¸ë™íŠ¸ëŠ” ìš°ë¦¬ê°€ ì œê³µí•œ ë°ì´í„°ì™€ í•¨ê»˜ ìƒˆë¡œìš´ NFT ì•„ì´í…œì˜ ì»¨íŠ¸ë™íŠ¸ë¥¼ ë°°í¬í•©ë‹ˆë‹¤.

![](/img/tutorials/nft/ton-collection.png)

:::info
ì´ ì£¼ì œì— ëŒ€í•´ ë” ìì„¸íˆ ì•Œì•„ë³´ë ¤ë©´ [TONì—ì„œì˜ NFT ì²˜ë¦¬](/develop/dapps/asset-processing/nfts) ë¬¸ì„œë¥¼ í™•ì¸í•˜ê±°ë‚˜ [NFT í‘œì¤€](https://github.com/ton-blockchain/TEPs/blob/master/text/0062-nft-standard.md) ë¬¸ì„œë¥¼ ì½ì–´ë³´ì‹œê¸° ë°”ëë‹ˆë‹¤.
:::

## âš™ ê°œë°œ í™˜ê²½ ì„¤ì •

ë¹ˆ í”„ë¡œì íŠ¸ë¥¼ ë§Œë“œëŠ” ê²ƒë¶€í„° ì‹œì‘í•˜ê² ìŠµë‹ˆë‹¤:

1. ìƒˆ í´ë” ë§Œë“¤ê¸°
   `mkdir MintyTON`
2. ì´ í´ë” ì—´ê¸°
   `cd MintyTON`
3. í”„ë¡œì íŠ¸ `yarn init -y`ë¥¼ ì´ˆê¸°í™”í•©ë‹ˆë‹¤.
4. íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ì„¤ì¹˜

```
yarn add typescript @types/node -D
```

5. ì´ êµ¬ì„±ì„ tsconfig.jsonì— ë³µì‚¬í•©ë‹ˆë‹¤.

```json
{
    "compilerOptions": {
      "module": "commonjs",
      "target": "es6",
      "lib": ["ES2022"],
      "moduleResolution": "node",
      "sourceMap": true,
      "outDir": "dist",
      "baseUrl": "src",
      "emitDecoratorMetadata": true,
      "experimentalDecorators": true,
      "strict": true,
      "esModuleInterop": true,
      "strictPropertyInitialization": false
    },
    "include": ["src/**/*"]
}
```

6. íŒ¨í‚¤ì§€.jsonì— ì•± ë¹Œë“œ ë° ì‹œì‘ ìŠ¤í¬ë¦½íŠ¸ ì¶”ê°€í•˜ê¸°

```json
"scripts": {
    "start": "tsc --skipLibCheck && node dist/app.js"
  },
```

7. í•„ìˆ˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜

```
yarn add @pinata/sdk dotenv ton ton-core ton-crypto
```

8. .env\` íŒŒì¼ì„ ë§Œë“¤ê³  ì´ í…œí”Œë¦¿ì„ ê¸°ë°˜ìœ¼ë¡œ ìì²´ ë°ì´í„°ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.

```
PINATA_API_KEY=your_api_key
PINATA_API_SECRET=your_secret_api_key
MNEMONIC=word1 word2 word3 word4
TONCENTER_API_KEY=aslfjaskdfjasasfas
```

í†¤ì„¼í„° API í‚¤ëŠ” [@tonapibot](https://t.me/tonapibot)ì—ì„œ ë°›ì„ ìˆ˜ ìˆìœ¼ë©° ë©”ì¸ë„· ë˜ëŠ” í…ŒìŠ¤íŠ¸ë„·ì„ ì„ íƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. MNEMONIC\` ë³€ìˆ˜ì— ì»¬ë ‰ì…˜ ì†Œìœ ì ì§€ê°‘ ì‹œë“œ ë¬¸êµ¬ 24ë‹¨ì–´ë¥¼ ì €ì¥í•©ë‹ˆë‹¤.

í›Œë¥­í•©ë‹ˆë‹¤! ì´ì œ í”„ë¡œì íŠ¸ì˜ ì½”ë“œ ì‘ì„±ì„ ì‹œì‘í•  ì¤€ë¹„ê°€ ë˜ì—ˆìŠµë‹ˆë‹¤.

### ì“°ê¸° ë„ìš°ë¯¸ í•¨ìˆ˜

ë¨¼ì € `src/utils.ts`ì— ë‹ˆëª¨ë‹‰ìœ¼ë¡œ ì§€ê°‘ì„ ì—´ê³  ì§€ê°‘ì˜ publicKey/secretKeyë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ ë³´ê² ìŠµë‹ˆë‹¤.

24ê°œì˜ ë‹¨ì–´(ì‹œë“œ êµ¬ë¬¸)ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•œ ìŒì˜ í‚¤ë¥¼ ì–»ìŠµë‹ˆë‹¤:

```ts
import { KeyPair, mnemonicToPrivateKey } from "ton-crypto";
import {
  beginCell,
  Cell,
  OpenedContract,
  TonClient,
  WalletContractV4,
} from "ton";

export type OpenedWallet = {
  contract: OpenedContract<WalletContractV4>;
  keyPair: KeyPair;
};

export async function openWallet(mnemonic: string[], testnet: boolean) {
  const keyPair = await mnemonicToPrivateKey(mnemonic);
}
```

í†¤ì„¼í„°ì™€ ìƒí˜¸ ì‘ìš©í•  í´ë˜ìŠ¤ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•©ë‹ˆë‹¤:

```ts
const toncenterBaseEndpoint: string = testnet
  ? "https://testnet.toncenter.com"
  : "https://toncenter.com";

const client = new TonClient({
  endpoint: `${toncenterBaseEndpoint}/api/v2/jsonRPC`,
  apiKey: process.env.TONCENTER_API_KEY,
});
```

ê·¸ë¦¬ê³  ë§ˆì§€ë§‰ìœ¼ë¡œ ì§€ê°‘ì„ ì—½ë‹ˆë‹¤:

```ts
const wallet = WalletContractV4.create({
    workchain: 0,
    publicKey: keyPair.publicKey,
  });

const contract = client.open(wallet);
return { contract, keyPair };
```

ì´ì œ í”„ë¡œì íŠ¸ì˜ ë©”ì¸ ì—”íŠ¸ë¦¬í¬ì¸íŠ¸ì¸ `app.ts`ë¥¼ ìƒì„±í•˜ê² ìŠµë‹ˆë‹¤.
ì—¬ê¸°ì„œëŠ” ë°©ê¸ˆ ë§Œë“  í•¨ìˆ˜ `openWallet`ì„ ì‚¬ìš©í•˜ê³  ë©”ì¸ í•¨ìˆ˜ `init`ì„ í˜¸ì¶œí•©ë‹ˆë‹¤.
ì—¬ê¸°ê¹Œì§€ì…ë‹ˆë‹¤.

```ts
import * as dotenv from "dotenv";

import { openWallet } from "./utils";
import { readdir } from "fs/promises";

dotenv.config();

async function init() {
  const wallet = await openWallet(process.env.MNEMONIC!.split(" "), true);  
}

void init();
```

ë§ˆì§€ë§‰ìœ¼ë¡œ `seqno`ê°€ ì¦ê°€í•  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¬ëŠ” í•¨ìˆ˜ë¥¼ ë§Œë“œëŠ” `delay.ts` íŒŒì¼ì„ ë§Œë“¤ì–´ ë³´ê² ìŠµë‹ˆë‹¤.

```ts
import { OpenedWallet } from "utils";

export async function waitSeqno(seqno: number, wallet: OpenedWallet) {
  for (let attempt = 0; attempt < 10; attempt++) {
    await sleep(2000);
    const seqnoAfter = await wallet.contract.getSeqno();
    if (seqnoAfter == seqno + 1) break;
  }
}

export function sleep(ms: number): Promise<void> {
  return new Promise((resolve) => setTimeout(resolve, ms));
}
```

:::info seqnoë€ ë¬´ì—‡ì¸ê°€ìš”?
ê°„ë‹¨íˆ ë§í•´ì„œ, SeqnoëŠ” ì§€ê°‘ìœ¼ë¡œ ì „ì†¡ëœ ë°œì‹  íŠ¸ëœì­ì…˜ì˜ ì¹´ìš´í„°ì¼ ë¿ì…ë‹ˆë‹¤.
ë¦¬í”Œë ˆì´ ê³µê²©ì„ ë°©ì§€í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤. íŠ¸ëœì­ì…˜ì´ ì§€ê°‘ ìŠ¤ë§ˆíŠ¸ ì½˜íŠ¸ë™íŠ¸ë¡œ ì „ì†¡ë˜ë©´, ì§€ê°‘ì€ íŠ¸ëœì­ì…˜ì˜ seqno í•„ë“œë¥¼ ì €ì¥ì†Œ ë‚´ë¶€ì˜ í•„ë“œì™€ ë¹„êµí•©ë‹ˆë‹¤. ì¼ì¹˜í•˜ë©´ íŠ¸ëœì­ì…˜ì´ ìŠ¹ì¸ë˜ê³  ì €ì¥ëœ seqnoê°€ 1ì”© ì¦ê°€í•©ë‹ˆë‹¤. ì¼ì¹˜í•˜ì§€ ì•Šìœ¼ë©´ íŠ¸ëœì­ì…˜ì´ ì‚­ì œë©ë‹ˆë‹¤. ê·¸ë ‡ê¸° ë•Œë¬¸ì— ëª¨ë“  ë°œì‹  íŠ¸ëœì­ì…˜ í›„ì— ì ì‹œ ê¸°ë‹¤ë ¤ì•¼ í•©ë‹ˆë‹¤.
:::

## ğŸ–¼ ë©”íƒ€ë°ì´í„° ì¤€ë¹„

ë©”íƒ€ë°ì´í„° - NFT ë˜ëŠ” ì»¬ë ‰ì…˜ì„ ì„¤ëª…í•˜ëŠ” ê°„ë‹¨í•œ ì •ë³´ì…ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ì´ë¦„, ì„¤ëª… ë“±ì´ ìˆìŠµë‹ˆë‹¤.

ë¨¼ì €, `/data/images`ì— `0.png`, `1.png`, ...ë¼ëŠ” ì´ë¦„ì˜ NFT ì´ë¯¸ì§€ë¥¼ ì €ì¥í•˜ê³ , ì•„ì´í…œ ì‚¬ì§„ì˜ ê²½ìš° `logo.png`, ì»¬ë ‰ì…˜ ì•„ë°”íƒ€ì˜ ê²½ìš° `logo.png`ë¡œ ì €ì¥í•´ì•¼ í•©ë‹ˆë‹¤. ì˜¤ë¦¬ ì´ë¯¸ì§€ê°€ í¬í•¨ëœ [ë‹¤ìš´ë¡œë“œ íŒ©](/img/tutorials/nft/ducks.zip)ì„ ì‰½ê²Œ ë‹¤ìš´ë¡œë“œí•˜ê±°ë‚˜ í•´ë‹¹ í´ë”ì— ì´ë¯¸ì§€ë¥¼ ë„£ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜í•œ ëª¨ë“  ë©”íƒ€ë°ì´í„° íŒŒì¼ì€ `/data/metadata/` í´ë”ì— ì €ì¥í•©ë‹ˆë‹¤.

### NFT ì‚¬ì–‘

TONì˜ ëŒ€ë¶€ë¶„ì˜ ì œí’ˆì€ ì´ëŸ¬í•œ ë©”íƒ€ë°ì´í„° ì‚¬ì–‘ì„ ì§€ì›í•˜ì—¬ NFT ìˆ˜ì§‘ì— ëŒ€í•œ ì •ë³´ë¥¼ ì €ì¥í•©ë‹ˆë‹¤:

| ì´ë¦„     | ì„¤ëª…                                                                                              |
| ------ | ----------------------------------------------------------------------------------------------- |
| ì´ë¦„     | ì»¬ë ‰ì…˜ ì´ë¦„                                                                                          |
| ì„¤ëª…     | ì»¬ë ‰ì…˜ ì„¤ëª…                                                                                          |
| ì´ë¯¸ì§€    | ì•„ë°”íƒ€ë¡œ í‘œì‹œë  ì´ë¯¸ì§€ë¡œ ì—°ê²°ë˜ëŠ” ë§í¬ë¥¼ í´ë¦­í•©ë‹ˆë‹¤. ì§€ì›ë˜ëŠ” ë§í¬ í˜•ì‹ https, ipfs, TON ìŠ¤í† ë¦¬ì§€. |
| ì»¤ë²„ ì´ë¯¸ì§€ | ì´ë¯¸ì§€ì— ë§í¬í•˜ë©´ ì»¬ë ‰ì…˜ì˜ í‘œì§€ ì´ë¯¸ì§€ë¡œ í‘œì‹œë©ë‹ˆë‹¤.                                                   |
| ì†Œì…œ ë§í¬  | í”„ë¡œì íŠ¸ì˜ ì†Œì…œ ë¯¸ë””ì–´ í”„ë¡œí•„ì— ëŒ€í•œ ë§í¬ ëª©ë¡ì…ë‹ˆë‹¤. ë§í¬ëŠ” 10ê°œ ì´í•˜ë¡œ ì‚¬ìš©í•˜ì„¸ìš”.               |

![ì´ë¯¸ì§€](/img/tutorials/nft/collection-metadata.png)

ì´ ì •ë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì»¬ë ‰ì…˜ì˜ ë©”íƒ€ë°ì´í„°ë¥¼ ì„¤ëª…í•˜ëŠ” ìì²´ ë©”íƒ€ë°ì´í„° íŒŒì¼ `collection.json`ì„ ë§Œë“¤ì–´ ë³´ê² ìŠµë‹ˆë‹¤!

```json
{
  "name": "Ducks on TON",
  "description": "This collection is created for showing an example of minting NFT collection on TON. You can support creator by buying one of this NFT.",
  "social_links": ["https://t.me/DucksOnTON"]
}
```

"ì´ë¯¸ì§€" ë§¤ê°œ ë³€ìˆ˜ë¥¼ ì‘ì„±í•˜ì§€ ì•Šì•˜ìœ¼ë‹ˆ ì¡°ê¸ˆë§Œ ê¸°ë‹¤ë¦¬ì‹œë©´ ê·¸ ì´ìœ ë¥¼ ì•Œê²Œ ë  ê²ƒì…ë‹ˆë‹¤!

ì»¬ë ‰ì…˜ ë©”íƒ€ë°ì´í„° íŒŒì¼ì„ ìƒì„±í•œ í›„ì—ëŠ” NFTì˜ ë©”íƒ€ë°ì´í„°ë¥¼ ìƒì„±í•´ì•¼ í•©ë‹ˆë‹¤.

NFT ì•„ì´í…œ ë©”íƒ€ë°ì´í„° ì‚¬ì–‘:

| ì´ë¦„                                | ì„¤ëª…                                                                                                                          |
| --------------------------------- | --------------------------------------------------------------------------------------------------------------------------- |
| ì´ë¦„                                | NFT ì´ë¦„. ê¶Œì¥ ê¸¸ì´: 15~30ì ì´ë‚´                                                    |
| ì„¤ëª…                                | NFT ì„¤ëª…. ê¶Œì¥ ê¸¸ì´: ìµœëŒ€ 500ì                                                                      |
| ì´ë¯¸ì§€                               | NFT ì´ë¯¸ì§€ì— ë§í¬í•©ë‹ˆë‹¤.                                                                                             |
| ì†ì„±                                | NFT ì†ì„±. íŠ¹ì„± ìœ í˜•(íŠ¹ì„± ì´ë¦„)ê³¼ ê°’(ì†ì„±ì— ëŒ€í•œ ê°„ë‹¨í•œ ì„¤ëª…)ì´ ì§€ì •ëœ íŠ¹ì„± ëª©ë¡ì…ë‹ˆë‹¤. |
| lottie                            | ë¡œí‹° ì• ë‹ˆë©”ì´ì…˜ì´ í¬í•¨ëœ json íŒŒì¼ì— ë§í¬í•©ë‹ˆë‹¤.  ì§€ì •í•˜ë©´ ì´ ë§í¬ì˜ ë¡œí‹° ì• ë‹ˆë©”ì´ì…˜ì´ NFTê°€ ìˆëŠ” í˜ì´ì§€ì—ì„œ ì¬ìƒë©ë‹ˆë‹¤.                    |
| content_url  | ì¶”ê°€ ì½˜í…ì¸ ë¡œ ì—°ê²°ë˜ëŠ” ë§í¬ì…ë‹ˆë‹¤.                                                                                         |
| content_type | content_url ë§í¬ë¥¼ í†µí•´ ì¶”ê°€ëœ ì½˜í…ì¸  ìœ í˜•ì…ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ë™ì˜ìƒ/mp4 íŒŒì¼ì…ë‹ˆë‹¤.                 |

![ì´ë¯¸ì§€](/img/tutorials/nft/item-metadata.png)

```json
{
  "name": "Duck #00",
  "description": "What about a round of golf?",
  "attributes": [{ "trait_type": "Awesomeness", "value": "Super cool" }]
}
```

ê·¸ëŸ° ë‹¤ìŒ ë©”íƒ€ë°ì´í„°ê°€ í¬í•¨ëœ NFT í•­ëª©ì˜ íŒŒì¼ì„ ì›í•˜ëŠ” ë§Œí¼ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ë©”íƒ€ë°ì´í„° ì—…ë¡œë“œ

ì´ì œ ë©”íƒ€ë°ì´í„° íŒŒì¼ì„ IPFSì— ì—…ë¡œë“œí•˜ëŠ” ì½”ë“œë¥¼ ì‘ì„±í•´ ë³´ê² ìŠµë‹ˆë‹¤. ë©”íƒ€ë°ì´í„°.ts\` íŒŒì¼ì„ ë§Œë“¤ê³  í•„ìš”í•œ ëª¨ë“  ì„í¬íŠ¸ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤:

```ts
import pinataSDK from "@pinata/sdk";
import { readdirSync } from "fs";
import { writeFile, readFile } from "fs/promises";
import path from "path";
```

ê·¸ëŸ° ë‹¤ìŒ ì‹¤ì œë¡œ í´ë”ì˜ ëª¨ë“  íŒŒì¼ì„ IPFSë¡œ ì—…ë¡œë“œí•˜ëŠ” í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ì•¼ í•©ë‹ˆë‹¤:

```ts
export async function uploadFolderToIPFS(folderPath: string): Promise<string> {
  const pinata = new pinataSDK({
    pinataApiKey: process.env.PINATA_API_KEY,
    pinataSecretApiKey: process.env.PINATA_API_SECRET,
  });

  const response = await pinata.pinFromFS(folderPath);
  return response.IpfsHash;
}
```

í›Œë¥­í•©ë‹ˆë‹¤! ë‹¤ì‹œ ë‹¹ë©´í•œ ì§ˆë¬¸ìœ¼ë¡œ ëŒì•„ê°€ì„œ ë©”íƒ€ë°ì´í„° íŒŒì¼ì˜ 'ì´ë¯¸ì§€' í•„ë“œë¥¼ ë¹„ì›Œë‘” ì´ìœ ëŠ” ë¬´ì—‡ì¼ê¹Œìš”? ì»¬ë ‰ì…˜ì— 1000ê°œì˜ NFTë¥¼ ë§Œë“¤ê³  ì‹¶ê³ , ì´ì— ë”°ë¼ ê° í•­ëª©ì„ ìˆ˜ë™ìœ¼ë¡œ ì‚´í´ë³´ê³  ì‚¬ì§„ ë§í¬ë¥¼ ìˆ˜ë™ìœ¼ë¡œ ì‚½ì…í•´ì•¼ í•˜ëŠ” ìƒí™©ì„ ìƒìƒí•´ ë³´ê² ìŠµë‹ˆë‹¤.
ì´ê²ƒì€ ì •ë§ ë¶ˆí¸í•˜ê³  ì˜ëª»ëœ ì¼ì´ë¯€ë¡œ ì´ ì‘ì—…ì„ ìë™ìœ¼ë¡œ ìˆ˜í–‰í•˜ëŠ” í•¨ìˆ˜ë¥¼ ì‘ì„±í•´ ë´…ì‹œë‹¤!

```ts
export async function updateMetadataFiles(metadataFolderPath: string, imagesIpfsHash: string): Promise<void> {
  const files = readdirSync(metadataFolderPath);

  files.forEach(async (filename, index) => {
    const filePath = path.join(metadataFolderPath, filename)
    const file = await readFile(filePath);
    
    const metadata = JSON.parse(file.toString());
    metadata.image =
      index != files.length - 1
        ? `ipfs://${imagesIpfsHash}/${index}.jpg`
        : `ipfs://${imagesIpfsHash}/logo.jpg`;
    
    await writeFile(filePath, JSON.stringify(metadata));
  });
}
```

ë¨¼ì € ì§€ì •ëœ í´ë”ì— ìˆëŠ” ëª¨ë“  íŒŒì¼ì„ ì½ìŠµë‹ˆë‹¤:

```ts
const files = readdirSync(metadataFolderPath);
```

ê° íŒŒì¼ì„ ë°˜ë³µí•˜ì—¬ ì½˜í…ì¸ ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.

```ts
const filePath = path.join(metadataFolderPath, filename)
const file = await readFile(filePath);

const metadata = JSON.parse(file.toString());
```

ê·¸ëŸ° ë‹¤ìŒ í´ë”ì˜ ë§ˆì§€ë§‰ íŒŒì¼ì´ ì•„ë‹Œ ê²½ìš° ì´ë¯¸ì§€ í•„ë“œì— `ipfs://{IpfsHash}/{index}.jpg` ê°’ì„ í• ë‹¹í•˜ê³ , ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ `ipfs://{imagesIpfsHash}/logo.jpg`ë¥¼ í• ë‹¹í•˜ì—¬ ì‹¤ì œë¡œ ìƒˆ ë°ì´í„°ë¡œ íŒŒì¼ì„ ë‹¤ì‹œ ì‘ì„±í•©ë‹ˆë‹¤.

ë©”íƒ€ë°ì´í„°.tsì˜ ì „ì²´ ì½”ë“œ:

```ts
import pinataSDK from "@pinata/sdk";
import { readdirSync } from "fs";
import { writeFile, readFile } from "fs/promises";
import path from "path";

export async function uploadFolderToIPFS(folderPath: string): Promise<string> {
  const pinata = new pinataSDK({
    pinataApiKey: process.env.PINATA_API_KEY,
    pinataSecretApiKey: process.env.PINATA_API_SECRET,
  });

  const response = await pinata.pinFromFS(folderPath);
  return response.IpfsHash;
}

export async function updateMetadataFiles(metadataFolderPath: string, imagesIpfsHash: string): Promise<void> {
  const files = readdirSync(metadataFolderPath);

  files.forEach(async (filename, index) => {
    const filePath = path.join(metadataFolderPath, filename)
    const file = await readFile(filePath);
    
    const metadata = JSON.parse(file.toString());
    metadata.image =
      index != files.length - 1
        ? `ipfs://${imagesIpfsHash}/${index}.jpg`
        : `ipfs://${imagesIpfsHash}/logo.jpg`;
    
    await writeFile(filePath, JSON.stringify(metadata));
  });
}
```

ì¢‹ì•„ìš”, app.ts íŒŒì¼ì—ì„œ ì´ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•´ ë³´ê² ìŠµë‹ˆë‹¤.
í•¨ìˆ˜ì˜ ì„í¬íŠ¸ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤:

```ts
import { updateMetadataFiles, uploadFolderToIPFS } from "./metadata";
```

ë©”íƒ€ë°ì´í„°/ì´ë¯¸ì§€ í´ë”ì— ê²½ë¡œì™€ í•¨ê»˜ ë³€ìˆ˜ë¥¼ ì €ì¥í•˜ê³  í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì—¬ ë©”íƒ€ë°ì´í„°ë¥¼ ì—…ë¡œë“œí•©ë‹ˆë‹¤.

```ts
async function init() {
  const metadataFolderPath = "./data/metadata/";
  const imagesFolderPath = "./data/images/";

  const wallet = await openWallet(process.env.MNEMONIC!.split(" "), true);

  console.log("Started uploading images to IPFS...");
  const imagesIpfsHash = await uploadFolderToIPFS(imagesFolderPath);
  console.log(
    `Successfully uploaded the pictures to ipfs: https://gateway.pinata.cloud/ipfs/${imagesIpfsHash}`
  );

  console.log("Started uploading metadata files to IPFS...");
  await updateMetadataFiles(metadataFolderPath, imagesIpfsHash);
  const metadataIpfsHash = await uploadFolderToIPFS(metadataFolderPath);
  console.log(
    `Successfully uploaded the metadata to ipfs: https://gateway.pinata.cloud/ipfs/${metadataIpfsHash}`
  );
}
```

ê·¸ í›„ 'yarn start'ë¥¼ ì‹¤í–‰í•˜ë©´ ë°°í¬ëœ ë©”íƒ€ë°ì´í„°ì— ëŒ€í•œ ë§í¬ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤!

### ì˜¤í”„ì²´ì¸ ì½˜í…ì¸  ì¸ì½”ë”©

ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ì— ì €ì¥ëœ ë©”íƒ€ë°ì´í„° íŒŒì¼ì— ì–´ë–»ê²Œ ì—°ê²°ë˜ë‚˜ìš”? ì´ ì§ˆë¬¸ì€ [í† í° ë°ì´í„° í‘œì¤€](https://github.com/ton-blockchain/TEPs/blob/master/text/0064-token-data-standard.md)ì—ì„œ ì¶©ë¶„íˆ ë‹µë³€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ì–´ë–¤ ê²½ìš°ì—ëŠ” ë‹¨ìˆœíˆ ì›í•˜ëŠ” í”Œë˜ê·¸ë¥¼ ì œê³µí•˜ê³  ë§í¬ë¥¼ ASCII ë¬¸ìë¡œ ì œê³µí•˜ëŠ” ê²ƒë§Œìœ¼ë¡œëŠ” ì¶©ë¶„í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ìŠ¤ë„¤ì´í¬ í˜•ì‹ì„ ì‚¬ìš©í•˜ì—¬ ë§í¬ë¥¼ ì—¬ëŸ¬ ë¶€ë¶„ìœ¼ë¡œ ë¶„í• í•´ì•¼ í•˜ëŠ” ì˜µì…˜ì„ ê³ ë ¤í•´ ë³´ê² ìŠµë‹ˆë‹¤.

ë¨¼ì € ë²„í¼ë¥¼ ì²­í¬ë¡œ ë³€í™˜í•˜ëŠ” í•¨ìˆ˜ë¥¼ ìƒì„±í•©ë‹ˆë‹¤:

```ts
function bufferToChunks(buff: Buffer, chunkSize: number) {
  const chunks: Buffer[] = [];
  while (buff.byteLength > 0) {
    chunks.push(buff.subarray(0, chunkSize));
    buff = buff.subarray(chunkSize);
  }
  return chunks;
}
```

ê·¸ë¦¬ê³  ëª¨ë“  ì²­í¬ë¥¼ í•˜ë‚˜ì˜ ìŠ¤ë„¤ì´í¬ ì…€ë¡œ ë¬¶ëŠ” í•¨ìˆ˜ë¥¼ ë§Œë“­ë‹ˆë‹¤:

```ts
function makeSnakeCell(data: Buffer): Cell {
  const chunks = bufferToChunks(data, 127);

  if (chunks.length === 0) {
    return beginCell().endCell();
  }

  if (chunks.length === 1) {
    return beginCell().storeBuffer(chunks[0]).endCell();
  }

  let curCell = beginCell();

  for (let i = chunks.length - 1; i >= 0; i--) {
    const chunk = chunks[i];

    curCell.storeBuffer(chunk);

    if (i - 1 >= 0) {
      const nextCell = beginCell();
      nextCell.storeRef(curCell);
      curCell = nextCell;
    }
  }

  return curCell.endCell();
}
```

ë§ˆì§€ë§‰ìœ¼ë¡œ ì´ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ì˜¤í”„ì²´ì¸ ì½˜í…ì¸ ë¥¼ ì…€ë¡œ ì¸ì½”ë”©í•˜ëŠ” í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ì•¼ í•©ë‹ˆë‹¤:

```ts
export function encodeOffChainContent(content: string) {
  let data = Buffer.from(content);
  const offChainPrefix = Buffer.from([0x01]);
  data = Buffer.concat([offChainPrefix, data]);
  return makeSnakeCell(data);
}
```

## ğŸš¢ NFT ì»¬ë ‰ì…˜ ë°°í¬

ë©”íƒ€ë°ì´í„°ê°€ ì¤€ë¹„ë˜ê³  ì´ë¯¸ IPFSì— ì—…ë¡œë“œë˜ë©´ ì»¬ë ‰ì…˜ ë°°í¬ë¶€í„° ì‹œì‘í•˜ë©´ ë©ë‹ˆë‹¤!

ì»¬ë ‰ì…˜ê³¼ ê´€ë ¨ëœ ëª¨ë“  ë¡œì§ì„ `/contracts/NftCollection.ts` íŒŒì¼ì— ì €ì¥í•˜ëŠ” íŒŒì¼ì„ ìƒì„±í•©ë‹ˆë‹¤. í•­ìƒ ê·¸ë ‡ë“¯ì´ ì„í¬íŠ¸ë¡œ ì‹œì‘í•©ë‹ˆë‹¤:

```ts
import {
  Address,
  Cell,
  internal,
  beginCell,
  contractAddress,
  StateInit,
  SendMode,
} from "ton-core";
import { encodeOffChainContent, OpenedWallet } from "../utils";
```

ê·¸ë¦¬ê³  ìˆ˜ì§‘ì— í•„ìš”í•œ ì´ˆê¸°í™” ë°ì´í„°ë¥¼ ì„¤ëª…í•˜ëŠ” ìœ í˜•ì„ ì„ ì–¸í•©ë‹ˆë‹¤:

```ts
export type collectionData = {
  ownerAddress: Address;
  royaltyPercent: number;
  royaltyAddress: Address;
  nextItemIndex: number;
  collectionContentUrl: string;
  commonContentUrl: string;
}
```

| ì´ë¦„          | ì„¤ëª…                                                                           |
| ----------- | ---------------------------------------------------------------------------- |
| ì†Œìœ ì ì£¼ì†Œ      | ì»¬ë ‰ì…˜ì˜ ì†Œìœ ìë¡œ ì„¤ì •í•  ì£¼ì†Œì…ë‹ˆë‹¤. ì†Œìœ ìë§Œ ìƒˆ NFTë¥¼ ë°œí–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. |
| ë¡œì—´í‹°í¼ì„¼íŠ¸      | ê° íŒë§¤ ê¸ˆì•¡ì˜ ë°±ë¶„ìœ¨ë¡œ ì§€ì •ëœ ì£¼ì†Œë¡œ ì „ì†¡ë©ë‹ˆë‹¤.                                 |
| ë¡œì—´í‹°ì£¼ì†Œ       | ì´ NFT ì»¬ë ‰ì…˜ì˜ íŒë§¤ë¡œ ë¡œì—´í‹°ë¥¼ ë°›ì„ ì§€ê°‘ ì£¼ì†Œ                                                 |
| ë‹¤ìŒ í•­ëª© ì¸ë±ìŠ¤   | ë‹¤ìŒ NFT í•­ëª©ì´ ê°€ì ¸ì•¼ í•˜ëŠ” ì¸ë±ìŠ¤ì…ë‹ˆë‹¤.                                    |
| ì»¬ë ‰ì…˜ ì½˜í…ì¸  URL | ì»¬ë ‰ì…˜ ë©”íƒ€ë°ì´í„°ì— ëŒ€í•œ URL                                                            |
| ê³µí†µ ì½˜í…ì¸  URL  | NFT ì•„ì´í…œ ë©”íƒ€ë°ì´í„°ì˜ ê¸°ë³¸ URL                                                        |

ë¨¼ì € ì»¬ë ‰ì…˜ì˜ ì½”ë“œê°€ í¬í•¨ëœ ì…€ì„ ë°˜í™˜í•˜ëŠ” ë¹„ê³µê°œ ë©”ì„œë“œë¥¼ ì‘ì„±í•´ ë³´ê² ìŠµë‹ˆë‹¤.

```ts
export class NftCollection {
  private collectionData: collectionData;

  constructor(collectionData: collectionData) {
    this.collectionData = collectionData;
  }

  private createCodeCell(): Cell {
    const NftCollectionCodeBoc =
      "te6cckECFAEAAh8AART/APSkE/S88sgLAQIBYgkCAgEgBAMAJbyC32omh9IGmf6mpqGC3oahgsQCASAIBQIBIAcGAC209H2omh9IGmf6mpqGAovgngCOAD4AsAAvtdr9qJofSBpn+pqahg2IOhph+mH/SAYQAEO4tdMe1E0PpA0z/U1NQwECRfBNDUMdQw0HHIywcBzxbMyYAgLNDwoCASAMCwA9Ra8ARwIfAFd4AYyMsFWM8WUAT6AhPLaxLMzMlx+wCAIBIA4NABs+QB0yMsCEsoHy//J0IAAtAHIyz/4KM8WyXAgyMsBE/QA9ADLAMmAE59EGOASK3wAOhpgYC42Eit8H0gGADpj+mf9qJofSBpn+pqahhBCDSenKgpQF1HFBuvgoDoQQhUZYBWuEAIZGWCqALnixJ9AQpltQnlj+WfgOeLZMAgfYBwGyi544L5cMiS4ADxgRLgAXGBEuAB8YEYGYHgAkExIREAA8jhXU1DAQNEEwyFAFzxYTyz/MzMzJ7VTgXwSED/LwACwyNAH6QDBBRMhQBc8WE8s/zMzMye1UAKY1cAPUMI43gED0lm+lII4pBqQggQD6vpPywY/egQGTIaBTJbvy9AL6ANQwIlRLMPAGI7qTAqQC3gSSbCHis+YwMlBEQxPIUAXPFhPLP8zMzMntVABgNQLTP1MTu/LhklMTugH6ANQwKBA0WfAGjhIBpENDyFAFzxYTyz/MzMzJ7VSSXwXiN0CayQ==";
    return Cell.fromBase64(NftCollectionCodeBoc);
  }
}
```

ì´ ì½”ë“œì—ì„œëŠ” ì»¬ë ‰ì…˜ ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ì˜ base64 í‘œí˜„ì—ì„œ ì…€ì„ ì½ì—ˆìŠµë‹ˆë‹¤.

ì´ì œ ì»¬ë ‰ì…˜ì˜ ì´ˆê¸° ë°ì´í„°ê°€ ìˆëŠ” ì…€ë§Œ ë‚¨ì•˜ìŠµë‹ˆë‹¤.
ê¸°ë³¸ì ìœ¼ë¡œ ì»¬ë ‰ì…˜ë°ì´í„°ì˜ ë°ì´í„°ë¥¼ ì˜¬ë°”ë¥¸ ë°©ì‹ìœ¼ë¡œ ì €ì¥í•˜ê¸°ë§Œ í•˜ë©´ ë©ë‹ˆë‹¤. ë¨¼ì € ë¹ˆ ì…€ì„ ë§Œë“¤ê³  ê±°ê¸°ì— ì»¬ë ‰ì…˜ ì†Œìœ ì ì£¼ì†Œì™€ ë‹¤ìŒì— ë°œí–‰í•  ì•„ì´í…œì˜ ì¸ë±ìŠ¤ë¥¼ ì €ì¥í•´ì•¼ í•©ë‹ˆë‹¤.

```ts
private createDataCell(): Cell {
  const data = this.collectionData;
  const dataCell = beginCell();

  dataCell.storeAddress(data.ownerAddress);
  dataCell.storeUint(data.nextItemIndex, 64);
```

ê·¸ ë‹¤ìŒì—ëŠ” ì»¬ë ‰ì…˜ì˜ ì½˜í…ì¸ ë¥¼ ì €ì¥í•  ë¹ˆ ì…€ì„ ë§Œë“¤ê³ , ê·¸ ë’¤ì— ì»¬ë ‰ì…˜ì˜ ì¸ì½”ë”©ëœ ì½˜í…ì¸ ê°€ ìˆëŠ” ì…€ì„ ì°¸ì¡°í•˜ëŠ” store ì°¸ì¡°ë¥¼ ë§Œë“­ë‹ˆë‹¤. ê·¸ë¦¬ê³  ê·¸ ë°”ë¡œ ë’¤ì— ë©”ì¸ ë°ì´í„° ì…€ì˜ contentCellì„ ì°¸ì¡°í•©ë‹ˆë‹¤.

```ts
const contentCell = beginCell();

const collectionContent = encodeOffChainContent(data.collectionContentUrl);

const commonContent = beginCell();
commonContent.storeBuffer(Buffer.from(data.commonContentUrl));

contentCell.storeRef(collectionContent);
contentCell.storeRef(commonContent.asCell());
dataCell.storeRef(contentCell);
```

ê·¸ëŸ° ë‹¤ìŒ ì»¬ë ‰ì…˜ì— ìƒì„±ë  NFT ì•„ì´í…œì˜ ì½”ë“œ ì…€ì„ ìƒì„±í•˜ê³  ì´ ì…€ì— ëŒ€í•œ ì°¸ì¡°ë¥¼ ë°ì´í„°ì…€ì— ì €ì¥í•©ë‹ˆë‹¤.

```ts
const NftItemCodeCell = Cell.fromBase64(
  "te6cckECDQEAAdAAART/APSkE/S88sgLAQIBYgMCAAmhH5/gBQICzgcEAgEgBgUAHQDyMs/WM8WAc8WzMntVIAA7O1E0NM/+kAg10nCAJp/AfpA1DAQJBAj4DBwWW1tgAgEgCQgAET6RDBwuvLhTYALXDIhxwCSXwPg0NMDAXGwkl8D4PpA+kAx+gAxcdch+gAx+gAw8AIEs44UMGwiNFIyxwXy4ZUB+kDUMBAj8APgBtMf0z+CEF/MPRRSMLqOhzIQN14yQBPgMDQ0NTWCEC/LJqISuuMCXwSED/LwgCwoAcnCCEIt3FzUFyMv/UATPFhAkgEBwgBDIywVQB88WUAX6AhXLahLLH8s/Im6zlFjPFwGRMuIByQH7AAH2UTXHBfLhkfpAIfAB+kDSADH6AIIK+vCAG6EhlFMVoKHeItcLAcMAIJIGoZE24iDC//LhkiGOPoIQBRONkchQCc8WUAvPFnEkSRRURqBwgBDIywVQB88WUAX6AhXLahLLH8s/Im6zlFjPFwGRMuIByQH7ABBHlBAqN1viDACCAo41JvABghDVMnbbEDdEAG1xcIAQyMsFUAfPFlAF+gIVy2oSyx/LPyJus5RYzxcBkTLiAckB+wCTMDI04lUC8ANqhGIu"
);
dataCell.storeRef(NftItemCodeCell);
```

ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ì— ì €ì¥ëœ ë¡œì—´í‹° ë§¤ê°œë³€ìˆ˜ëŠ” ë¡œì—´í‹°íŒ©í„°, ë¡œì—´í‹°ë² ì´ìŠ¤, ë¡œì—´í‹°ì£¼ì†Œì…ë‹ˆë‹¤. ë¡œì—´í‹° í¼ì„¼íŠ¸ëŠ” '(ë¡œì—´í‹°íŒ©í„°/ë¡œì—´í‹°ë² ì´ìŠ¤) \* 100%'ë¼ëŠ” ê³µì‹ìœ¼ë¡œ ê³„ì‚°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ë¡œì—´í‹° í¼ì„¼íŠ¸ë¥¼ ì•Œê³  ìˆë‹¤ë©´ ë¡œì—´í‹° íŒ©í„°ë¥¼ êµ¬í•˜ëŠ” ê²ƒì€ ë¬¸ì œê°€ ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

```ts
const royaltyBase = 1000;
const royaltyFactor = Math.floor(data.royaltyPercent * royaltyBase);
```

ê³„ì‚° í›„ì—ëŠ” ë¡œì—´í‹° ë°ì´í„°ë¥¼ ë³„ë„ì˜ ì…€ì— ì €ì¥í•˜ê³  ë°ì´í„°ì…€ì— ì´ ì…€ì— ëŒ€í•œ ì°¸ì¡°ë¥¼ ì œê³µí•´ì•¼ í•©ë‹ˆë‹¤.

```ts
const royaltyCell = beginCell();
royaltyCell.storeUint(royaltyFactor, 16);
royaltyCell.storeUint(royaltyBase, 16);
royaltyCell.storeAddress(data.royaltyAddress);
dataCell.storeRef(royaltyCell);

return dataCell.endCell();
}
```

ì´ì œ ì‹¤ì œë¡œ ì»¬ë ‰ì…˜ì˜ StateInitì„ ë°˜í™˜í•˜ëŠ” getterë¥¼ ì‘ì„±í•´ ë³´ê² ìŠµë‹ˆë‹¤:

```ts
public get stateInit(): StateInit {
  const code = this.createCodeCell();
  const data = this.createDataCell();

  return { code, data };
}
```

ê·¸ë¦¬ê³  ê²Œí„°ëŠ” ì»¬ë ‰ì…˜ì˜ ì£¼ì†Œë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤(TONì˜ ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ ì£¼ì†ŒëŠ” StateInitì˜ í•´ì‹œì¼ ë¿ì…ë‹ˆë‹¤).

```ts
public get address(): Address {
    return contractAddress(0, this.stateInit);
  }
```

ì´ì œ ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ë¥¼ ë¸”ë¡ì²´ì¸ì— ë°°í¬í•˜ëŠ” ë©”ì„œë“œ ì‘ì„±ë§Œ ë‚¨ì•˜ìŠµë‹ˆë‹¤!

```ts
public async deploy(wallet: OpenedWallet) {
    const seqno = await wallet.contract.getSeqno();
    await wallet.contract.sendTransfer({
      seqno,
      secretKey: wallet.keyPair.secretKey,
      messages: [
        internal({
          value: "0.05",
          to: this.address,
          init: this.stateInit,
        }),
      ],
      sendMode: SendMode.PAY_GAS_SEPARATELY + SendMode.IGNORE_ERRORS,
    });
    return seqno;
  }
```

ìš°ë¦¬ì˜ ê²½ìš° ìƒˆë¡œìš´ ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ë¥¼ ë°°í¬í•˜ëŠ” ê²ƒì€ ì§€ê°‘ì—ì„œ ìˆ˜ì§‘ ì£¼ì†Œ(StateInitì´ ìˆìœ¼ë©´ ê³„ì‚°í•  ìˆ˜ ìˆëŠ” ì£¼ì†Œ)ë¡œ ë©”ì‹œì§€ë¥¼ ë³´ë‚´ëŠ” ê²ƒë¿ì´ë©°, StateInitì´ ìˆìŠµë‹ˆë‹¤!

ì†Œìœ ìê°€ ìƒˆë¡œìš´ NFTë¥¼ ë°œí–‰í•˜ë©´ ì»¬ë ‰ì…˜ì€ ì†Œìœ ìì˜ ë©”ì‹œì§€ë¥¼ ìˆ˜ë½í•˜ê³  ìƒì„±ëœ NFT ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ì— ìƒˆë¡œìš´ ë©”ì‹œì§€ë¥¼ ì „ì†¡í•˜ë¯€ë¡œ(ìˆ˜ìˆ˜ë£Œ ì§€ë¶ˆ í•„ìš”), ë°œí–‰ëœ NFTì˜ ìˆ˜ì— ë”°ë¼ ì»¬ë ‰ì…˜ì˜ ì”ì•¡ì„ ë³´ì¶©í•˜ëŠ” ë©”ì„œë“œë¥¼ ì‘ì„±í•´ ë³´ê² ìŠµë‹ˆë‹¤:

```ts
public async topUpBalance(
    wallet: OpenedWallet,
    nftAmount: number
  ): Promise<number> {
    const feeAmount = 0.026 // approximate value of fees for 1 transaction in our case 
    const seqno = await wallet.contract.getSeqno();
    const amount = nftAmount * feeAmount;

    await wallet.contract.sendTransfer({
      seqno,
      secretKey: wallet.keyPair.secretKey,
      messages: [
        internal({
          value: amount.toString(),
          to: this.address.toString({ bounceable: false }),
          body: new Cell(),
        }),
      ],
      sendMode: SendMode.PAY_GAS_SEPARATELY + SendMode.IGNORE_ERRORS,
    });

    return seqno;
  }
```

ì´ì œ `app.ts`ì— ëª‡ ì¤„ì„ ì¶”ê°€í•˜ì—¬ ìƒˆ ì»¬ë ‰ì…˜ì„ ë°°í¬í•´ ë³´ê² ìŠµë‹ˆë‹¤:

```ts
console.log("Start deploy of nft collection...");
const collectionData = {
  ownerAddress: wallet.contract.address,
  royaltyPercent: 0.05, // 0.05 = 5%
  royaltyAddress: wallet.contract.address,
  nextItemIndex: 0,
  collectionContentUrl: `ipfs://${metadataIpfsHash}/collection.json`,
  commonContentUrl: `ipfs://${metadataIpfsHash}/`,
};
const collection = new NftCollection(collectionData);
let seqno = await collection.deploy(wallet);
console.log(`Collection deployed: ${collection.address}`);
await waitSeqno(seqno, wallet);
```

## ğŸš¢ NFT ì•„ì´í…œ ë°°í¬

ì»¬ë ‰ì…˜ì´ ì¤€ë¹„ë˜ë©´ NFT ë°œí–‰ì„ ì‹œì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤! ìš°ë¦¬ëŠ” `src/contracts/NftItem.ts`ì— ì½”ë“œë¥¼ ì €ì¥í•  ê²ƒì…ë‹ˆë‹¤.

ì˜ˆê¸°ì¹˜ ì•Šê²Œ, ì´ì œ `NftCollection.ts`ë¡œ ëŒì•„ê°€ì•¼ í•©ë‹ˆë‹¤. ê·¸ë¦¬ê³  ì´ ìœ í˜•ì„ íŒŒì¼ ë§¨ ìœ„ì— ìˆëŠ” `collectionData` ê·¼ì²˜ì— ì¶”ê°€í•©ë‹ˆë‹¤.

```ts
export type mintParams = {
  queryId: number | null,
  itemOwnerAddress: Address,
  itemIndex: number,
  amount: bigint,
  commonContentUrl: string
}
```

| ì´ë¦„         | ì„¤ëª…                                                                                        |
| ---------- | ----------------------------------------------------------------------------------------- |
| í•­ëª© ì†Œìœ ì ì£¼ì†Œ  | í•­ëª©ì˜ ì†Œìœ ìë¡œ ì„¤ì •í•  ì£¼ì†Œ                                                                           |
| í•­ëª© ì¸ë±ìŠ¤     | NFT í•­ëª© ì¸ë±ìŠ¤                                                                                |
| ê¸ˆì•¡         | ë°°í¬ì™€ í•¨ê»˜ NFTë¡œ ì „ì†¡ë˜ëŠ” TONì˜ ì–‘ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.                                        |
| ê³µí†µ ì½˜í…ì¸  URL | í•­ëª© URLì— ëŒ€í•œ ì „ì²´ ë§í¬ëŠ” ì»¬ë ‰ì…˜ì˜ "commonContentUl" + ì´ commonContentUlë¡œ í‘œì‹œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. |

ê·¸ë¦¬ê³  NFT ì•„ì´í…œì˜ ë°°í¬ë¥¼ ìœ„í•œ ë³¸ë¬¸ì„ êµ¬ì„±í•˜ëŠ” ë©”ì„œë“œë¥¼ NftCollection í´ë˜ìŠ¤ì—ì„œ ìƒì„±í•©ë‹ˆë‹¤. ë¨¼ì € ë¹„íŠ¸ë¥¼ ì €ì¥í•˜ì—¬ ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ ì»¬ë ‰ì…˜ì— ìƒˆë¡œìš´ NFTë¥¼ ìƒì„±í•  ê²ƒì„ì„ ì•Œë¦½ë‹ˆë‹¤. ê·¸ëŸ° ë‹¤ìŒ ì´ NFT ì•„ì´í…œì˜ ì¿¼ë¦¬ì•„ì´ë””ì™€ ì¸ë±ìŠ¤ë¥¼ ì €ì¥í•©ë‹ˆë‹¤.

```ts
public createMintBody(params: mintParams): Cell {
    const body = beginCell();
    body.storeUint(1, 32);
    body.storeUint(params.queryId || 0, 64);
    body.storeUint(params.itemIndex, 64);
    body.storeCoins(params.amount);
  }
```

ë‚˜ì¤‘ì— ì´ NFTì˜ ë¹ˆ ì…€ê³¼ ìŠ¤í† ì–´ ì†Œìœ ì ì£¼ì†Œë¥¼ ìƒì„±í•©ë‹ˆë‹¤:

```ts
    const nftItemContent = beginCell();
    nftItemContent.storeAddress(params.itemOwnerAddress);
```

ê·¸ë¦¬ê³  ì´ ì…€ì— ì €ì¥ëœ ì°¸ì¡°(NFT ì•„ì´í…œ ì½˜í…ì¸  í¬í•¨)ëŠ” ì´ ì•„ì´í…œì˜ ë©”íƒ€ë°ì´í„°ë¥¼ ì°¸ì¡°í•©ë‹ˆë‹¤:

```ts
const uriContent = beginCell();
uriContent.storeBuffer(Buffer.from(params.commonContentUrl));
nftItemContent.storeRef(uriContent.endCell());
```

ì €ì¥ì†ŒëŠ” ë³¸ë¬¸ ì…€ì˜ í•­ëª© ì½˜í…ì¸ ê°€ ìˆëŠ” ì…€ì„ ì°¸ì¡°í•©ë‹ˆë‹¤:

```ts
body.storeRef(nftItemContent.endCell());
return body.endCell();
```

ì¢‹ì•„ìš”! ì´ì œ `NftItem.ts`ë¡œ ëŒì•„ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ì œ NFT ë³¸ë¬¸ê³¼ í•¨ê»˜ ìˆ˜ì§‘ ì»¨íŠ¸ë™íŠ¸ì— ë©”ì‹œì§€ë¥¼ ë³´ë‚´ê¸°ë§Œ í•˜ë©´ ë©ë‹ˆë‹¤.

```ts
import { internal, SendMode } from "ton-core";
import { OpenedWallet } from "utils";
import { NftCollection, mintParams } from "./NftCollection";

export class NftItem {
  private collection: NftCollection;

  constructor(collection: NftCollection) {
    this.collection = collection;
  }

  public async deploy(
    wallet: OpenedWallet,
    params: mintParams
  ): Promise<number> {
    const seqno = await wallet.contract.getSeqno();
    await wallet.contract.sendTransfer({
      seqno,
      secretKey: wallet.keyPair.secretKey,
      messages: [
        internal({
          value: "0.05",
          to: this.collection.address,
          body: this.collection.createMintBody(params),
        }),
      ],
      sendMode: SendMode.IGNORE_ERRORS + SendMode.PAY_GAS_SEPARATELY,
    });
    return seqno;
  }
}
```

ë§ˆì§€ë§‰ì—ëŠ” ì¸ë±ìŠ¤ë¡œ NFTì˜ ì£¼ì†Œë¥¼ ê°€ì ¸ì˜¤ëŠ” ì§§ì€ ë©”ì„œë“œë¥¼ ì‘ì„±í•˜ê² ìŠµë‹ˆë‹¤.

ì»¬ë ‰ì…˜ì˜ get ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ëŠ” ë° ë„ì›€ì´ ë˜ëŠ” í´ë¼ì´ì–¸íŠ¸ ë³€ìˆ˜ ìƒì„±ë¶€í„° ì‹œì‘í•˜ì„¸ìš”.

```ts
static async getAddressByIndex(
  collectionAddress: Address,
  itemIndex: number
): Promise<Address> {
  const client = new TonClient({
    endpoint: "https://testnet.toncenter.com/api/v2/jsonRPC",
    apiKey: process.env.TONCENTER_API_KEY,
  });
}
```

ê·¸ëŸ° ë‹¤ìŒ ì»¬ë ‰ì…˜ì˜ get-methodë¥¼ í˜¸ì¶œí•˜ì—¬ í•´ë‹¹ ì¸ë±ìŠ¤ê°€ ìˆëŠ” ì´ ì»¬ë ‰ì…˜ì˜ NFT ì£¼ì†Œë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

```ts
const response = await client.runMethod(
  collectionAddress,
  "get_nft_address_by_index",
  [{ type: "int", value: BigInt(itemIndex) }]
);
```

... ê·¸ë¦¬ê³  ì´ ì£¼ì†Œë¥¼ íŒŒì‹±í•˜ì„¸ìš”!

```ts
return response.stack.readAddress();
```

ì´ì œ `app.ts`ì— ëª‡ ê°€ì§€ ì½”ë“œë¥¼ ì¶”ê°€í•˜ì—¬ ê° NFTì˜ ë°œí–‰ í”„ë¡œì„¸ìŠ¤ë¥¼ ìë™í™”í•´ ë³´ê² ìŠµë‹ˆë‹¤. ë¨¼ì € ë©”íƒ€ë°ì´í„°ê°€ ìˆëŠ” í´ë”ì˜ ëª¨ë“  íŒŒì¼ì„ ì½ìŠµë‹ˆë‹¤:

```ts
const files = await readdir(metadataFolderPath);
files.pop();
let index = 0;
```

ë‘ ë²ˆì§¸ë¡œ ì»¬ë ‰ì…˜ì˜ ì”ì•¡ì„ ì¶©ì „í•˜ì„¸ìš”:

```ts
seqno = await collection.topUpBalance(wallet, files.length);
await waitSeqno(seqno, wallet);
console.log(`Balance top-upped`);
```

ë§ˆì§€ë§‰ìœ¼ë¡œ ë©”íƒ€ë°ì´í„°ê°€ ìˆëŠ” ê° íŒŒì¼ì„ ì‚´í´ë³´ê³  `NftItem` ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•œ í›„ ë°°í¬ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤. ê·¸ í›„ seqnoê°€ ì¦ê°€í•  ë•Œê¹Œì§€ ì ì‹œ ê¸°ë‹¤ë ¤ì•¼ í•©ë‹ˆë‹¤:

```ts
for (const file of files) {
    console.log(`Start deploy of ${index + 1} NFT`);
    const mintParams = {
      queryId: 0,
      itemOwnerAddress: wallet.contract.address,
      itemIndex: index,
      amount: toNano("0.05"),
      commonContentUrl: file,
    };

    const nftItem = new NftItem(collection);
    seqno = await nftItem.deploy(wallet, mintParams);
    console.log(`Successfully deployed ${index + 1} NFT`);
    await waitSeqno(seqno, wallet);
    index++;
  }
```

## ğŸ· NFT íŒë§¤í•˜ê¸°

NFTë¥¼ íŒë§¤í•˜ë ¤ë©´ ë‘ ê°œì˜ ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ê°€ í•„ìš”í•©ë‹ˆë‹¤.

- ì‹ ê·œ ë§¤ì¶œ ì°½ì¶œ ë…¼ë¦¬ë§Œ ë‹´ë‹¹í•˜ëŠ” ë§ˆì¼“í”Œë ˆì´ìŠ¤
- íŒë§¤ ê³„ì•½ - íŒë§¤ êµ¬ë§¤/ì·¨ì†Œ ë¡œì§ì„ ë‹´ë‹¹í•©ë‹ˆë‹¤.

### ë§ˆì¼“í”Œë ˆì´ìŠ¤ ë°°í¬

ê³„ì•½/NftMarketplace.ts\`ì— ìƒˆ íŒŒì¼ì„ ìƒì„±í•©ë‹ˆë‹¤. í‰ì†Œì™€ ê°™ì´ ì´ ë§ˆì¼“í”Œë ˆì´ìŠ¤ ì†Œìœ ìì˜ ì£¼ì†Œë¥¼ ë°›ëŠ” ê¸°ë³¸ í´ë˜ìŠ¤ë¥¼ ìƒì„±í•˜ê³ , ì´ ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ ë° ì´ˆê¸° ë°ì´í„°ì˜ ì½”ë“œ(NFT-Marketplace ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ ê¸°ë³¸ ë²„ì „(https://github.com/ton-blockchain/token-contract/blob/main/nft/nft-marketplace.fc)ë¥¼ ì‚¬ìš©í•˜ê² ìŠµë‹ˆë‹¤)ë¡œ ì…€ì„ ìƒì„±í•©ë‹ˆë‹¤.

```ts
import {
  Address,
  beginCell,
  Cell,
  contractAddress,
  internal,
  SendMode,
  StateInit,
} from "ton-core";
import { OpenedWallet } from "utils";

export class NftMarketplace {
  public ownerAddress: Address;

  constructor(ownerAddress: Address) {
    this.ownerAddress = ownerAddress;
  }


  public get stateInit(): StateInit {
    const code = this.createCodeCell();
    const data = this.createDataCell();

    return { code, data };
  }

  private createDataCell(): Cell {
    const dataCell = beginCell();

    dataCell.storeAddress(this.ownerAddress);

    return dataCell.endCell();
  }

  private createCodeCell(): Cell {
    const NftMarketplaceCodeBoc = "te6cckEBBAEAbQABFP8A9KQT9LzyyAsBAgEgAgMAqtIyIccAkVvg0NMDAXGwkVvg+kDtRND6QDASxwXy4ZEB0x8BwAGOK/oAMAHU1DAh+QBwyMoHy//J0Hd0gBjIywXLAljPFlAE+gITy2vMzMlx+wCRW+IABPIwjvfM5w==";
    return Cell.fromBase64(NftMarketplaceCodeBoc)
  }
}
```

ê·¸ë¦¬ê³  StateInitì„ ê¸°ë°˜ìœ¼ë¡œ ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ì˜ ì£¼ì†Œë¥¼ ê³„ì‚°í•˜ëŠ” ë©”ì„œë“œë¥¼ ë§Œë“¤ì–´ ë³´ê² ìŠµë‹ˆë‹¤:

```ts
public get address(): Address {
    return contractAddress(0, this.stateInit);
  }
```

ê·¸ í›„ì—ëŠ” ì‹¤ì œë¡œ ë§ˆì¼“í”Œë ˆì´ìŠ¤ë¥¼ ë°°í¬í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì„ ë§Œë“¤ì–´ì•¼ í•©ë‹ˆë‹¤:

```ts
public async deploy(wallet: OpenedWallet): Promise<number> {
    const seqno = await wallet.contract.getSeqno();
    await wallet.contract.sendTransfer({
      seqno,
      secretKey: wallet.keyPair.secretKey,
      messages: [
        internal({
          value: "0.5",
          to: this.address,
          init: this.stateInit,
        }),
      ],
      sendMode: SendMode.IGNORE_ERRORS + SendMode.PAY_GAS_SEPARATELY,
    });
    return seqno;
  }
```

ë³´ì‹œë‹¤ì‹œí”¼, ì´ ì½”ë“œëŠ” ë‹¤ë¥¸ ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ ë°°í¬ì™€ ë‹¤ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤(ìƒˆ ì»¬ë ‰ì…˜ ë°°í¬ì˜ nft-item ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸). ìœ ì¼í•œ ì ì€ ì²˜ìŒì— ë§ˆì¼“í”Œë ˆì´ìŠ¤ë¥¼ 0.05í†¤ì´ ì•„ë‹Œ 0.5í†¤ì”© ë³´ì¶©í•œë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤. ê·¸ ì´ìœ ëŠ” ë¬´ì—‡ì¼ê¹Œìš”?  ìƒˆë¡œìš´ ìŠ¤ë§ˆíŠ¸ íŒë§¤ ì½˜íŠ¸ë™íŠ¸ê°€ ë°°í¬ë˜ë©´ ë§ˆì¼“í”Œë ˆì´ìŠ¤ëŠ” ìš”ì²­ì„ ìˆ˜ë½í•˜ê³  ì²˜ë¦¬í•œ í›„ ìƒˆ ì½˜íŠ¸ë™íŠ¸ì— ë©”ì‹œì§€ë¥¼ ì „ì†¡í•©ë‹ˆë‹¤(ì˜ˆ, NFT ì»¬ë ‰ì…˜ì˜ ìƒí™©ê³¼ ìœ ì‚¬í•©ë‹ˆë‹¤). ê·¸ë ‡ê¸° ë•Œë¬¸ì— ìˆ˜ìˆ˜ë£Œë¥¼ ì§€ë¶ˆí•˜ê¸° ìœ„í•´ ì•½ê°„ì˜ ì¶”ê°€ í†¤ì´ í•„ìš”í•©ë‹ˆë‹¤.

ë§ˆì§€ë§‰ìœ¼ë¡œ `app.ts` íŒŒì¼ì— ëª‡ ì¤„ì˜ ì½”ë“œë¥¼ ì¶”ê°€í•˜ì—¬ ë§ˆì¼“í”Œë ˆì´ìŠ¤ë¥¼ ë°°í¬í•´ ë³´ê² ìŠµë‹ˆë‹¤:

```ts
console.log("Start deploy of new marketplace  ");
const marketplace = new NftMarketplace(wallet.contract.address);
seqno = await marketplace.deploy(wallet);
await waitSeqno(seqno, wallet);
console.log("Successfully deployed new marketplace");
```

### íŒë§¤ ê³„ì•½ ë°°í¬

í›Œë¥­í•©ë‹ˆë‹¤! ì§€ê¸ˆ ë°”ë¡œ NFT íŒë§¤ì˜ ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ë¥¼ ë°°í¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì–´ë–»ê²Œ ì‘ë™í• ê¹Œìš”? ìƒˆë¡œìš´ ì»¨íŠ¸ë™íŠ¸ë¥¼ ë°°í¬í•œ í›„, NFTë¥¼ íŒë§¤ ì»¨íŠ¸ë™íŠ¸ë¡œ "ì´ì „"í•´ì•¼ í•©ë‹ˆë‹¤(ì¦‰, ì•„ì´í…œ ë°ì´í„°ì—ì„œ NFTì˜ ì†Œìœ ìë¥¼ íŒë§¤ ì»¨íŠ¸ë™íŠ¸ë¡œ ë³€ê²½í•˜ê¸°ë§Œ í•˜ë©´ ë©ë‹ˆë‹¤). ì´ íŠœí† ë¦¬ì–¼ì—ì„œëŠ” [nft-fixprice-sale-v2](https://github.com/getgems-io/nft-contracts/blob/main/packages/contracts/sources/nft-fixprice-sale-v2.fc) íŒë§¤ ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ë¥¼ ì‚¬ìš©í•˜ê² ìŠµë‹ˆë‹¤.

ë¨¼ì € íŒë§¤ ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ì˜ ë°ì´í„°ë¥¼ ì„¤ëª…í•˜ëŠ” ìƒˆë¡œìš´ ìœ í˜•ì„ ì„ ì–¸í•´ ë³´ê² ìŠµë‹ˆë‹¤:

```ts
import {
  Address,
  beginCell,
  Cell,
  contractAddress,
  internal,
  SendMode,
  StateInit,
  storeStateInit,
  toNano,
} from "ton-core";
import { OpenedWallet } from "utils";

export type GetGemsSaleData = {
  isComplete: boolean;
  createdAt: number;
  marketplaceAddress: Address;
  nftAddress: Address;
  nftOwnerAddress: Address | null;
  fullPrice: bigint;
  marketplaceFeeAddress: Address;
  marketplaceFee: bigint;
  royaltyAddress: Address;
  royaltyAmount: bigint;
};
```

ì´ì œ ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ì˜ ì´ˆê¸°í™” ë°ì´í„° ì…€ì„ ìƒì„±í•  í´ë˜ìŠ¤ì™€ ê¸°ë³¸ ë©”ì„œë“œë¥¼ ë§Œë“¤ì–´ ë³´ê² ìŠµë‹ˆë‹¤.

ìˆ˜ìˆ˜ë£Œ ì •ë³´ê°€ ë‹´ê¸´ ì…€ì„ ë§Œë“œëŠ” ê²ƒë¶€í„° ì‹œì‘í•˜ê² ìŠµë‹ˆë‹¤. ë§ˆì¼“í”Œë ˆì´ìŠ¤ ìˆ˜ìˆ˜ë£Œë¥¼ ë°›ì„ ìŠ¤í† ì–´ ì£¼ì†Œì™€ ìˆ˜ìˆ˜ë£Œë¡œ ë§ˆì¼“í”Œë ˆì´ìŠ¤ì— ë³´ë‚¼ TONì˜ ì–‘ì„ ì…ë ¥í•´ì•¼ í•©ë‹ˆë‹¤. íŒë§¤ì— ë”°ë¥¸ ë¡œì—´í‹°ë¥¼ ë°›ì„ ìŠ¤í† ì–´ ì£¼ì†Œì™€ ë¡œì—´í‹° ê¸ˆì•¡ì„ ì €ì¥í•©ë‹ˆë‹¤.

```ts
export class NftSale {
  private data: GetGemsSaleData;

  constructor(data: GetGemsSaleData) {
    this.data = data;
  }

  private createDataCell(): Cell {
    const saleData = this.data;

    const feesCell = beginCell();

    feesCell.storeAddress(saleData.marketplaceFeeAddress);
    feesCell.storeCoins(saleData.marketplaceFee);
    feesCell.storeAddress(saleData.royaltyAddress);
    feesCell.storeCoins(saleData.royaltyAmount);
  }
}
```

ê·¸ëŸ° ë‹¤ìŒ ë¹ˆ ì…€ì„ ìƒì„±í•˜ê³  íŒë§¤ ë°ì´í„°ì˜ ì •ë³´ë¥¼ ì˜¬ë°”ë¥¸ ìˆœì„œë¡œ ì €ì¥í•œ ë‹¤ìŒ ê·¸ ë°”ë¡œ ë’¤ì— ìˆ˜ìˆ˜ë£Œ ì •ë³´ê°€ ìˆëŠ” ì…€ì„ ì°¸ì¡°í•˜ë©´ ë©ë‹ˆë‹¤:

```ts
const dataCell = beginCell();

dataCell.storeUint(saleData.isComplete ? 1 : 0, 1);
dataCell.storeUint(saleData.createdAt, 32);
dataCell.storeAddress(saleData.marketplaceAddress);
dataCell.storeAddress(saleData.nftAddress);
dataCell.storeAddress(saleData.nftOwnerAddress);
dataCell.storeCoins(saleData.fullPrice);
dataCell.storeRef(feesCell.endCell());

return dataCell.endCell();
```

ê·¸ë¦¬ê³  í•­ìƒ ê·¸ë ‡ë“¯ì´ stateInit, ì´ˆê¸°í™” ì½”ë“œ ì…€ ë° ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ì˜ ì£¼ì†Œë¥¼ ê°€ì ¸ì˜¤ëŠ” ë©”ì„œë“œë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.

```ts
public get address(): Address {
  return contractAddress(0, this.stateInit);
}

public get stateInit(): StateInit {
  const code = this.createCodeCell();
  const data = this.createDataCell();

  return { code, data };
}

private createCodeCell(): Cell {
  const NftFixPriceSaleV2CodeBoc =
    "te6cckECDAEAAikAART/APSkE/S88sgLAQIBIAMCAATyMAIBSAUEAFGgOFnaiaGmAaY/9IH0gfSB9AGoYaH0gfQB9IH0AGEEIIySsKAVgAKrAQICzQgGAfdmCEDuaygBSYKBSML7y4cIk0PpA+gD6QPoAMFOSoSGhUIehFqBSkHCAEMjLBVADzxYB+gLLaslx+wAlwgAl10nCArCOF1BFcIAQyMsFUAPPFgH6AstqyXH7ABAjkjQ04lpwgBDIywVQA88WAfoCy2rJcfsAcCCCEF/MPRSBwCCIYAYyMsFKs8WIfoCy2rLHxPLPyPPFlADzxbKACH6AsoAyYMG+wBxVVAGyMsAFcsfUAPPFgHPFgHPFgH6AszJ7VQC99AOhpgYC42EkvgnB9IBh2omhpgGmP/SB9IH0gfQBqGBNgAPloyhFrpOEBWccgGRwcKaDjgskvhHAoomOC+XD6AmmPwQgCicbIiV15cPrpn5j9IBggKwNkZYAK5Y+oAeeLAOeLAOeLAP0BZmT2qnAbE+OAcYED6Y/pn5gQwLCQFKwAGSXwvgIcACnzEQSRA4R2AQJRAkECPwBeA6wAPjAl8JhA/y8AoAyoIQO5rKABi+8uHJU0bHBVFSxwUVsfLhynAgghBfzD0UIYAQyMsFKM8WIfoCy2rLHxnLPyfPFifPFhjKACf6AhfKAMmAQPsAcQZQREUVBsjLABXLH1ADzxYBzxYBzxYB+gLMye1UABY3EDhHZRRDMHDwBTThaBI=";

  return Cell.fromBase64(NftFixPriceSaleV2CodeBoc);
}
```

íŒë§¤ ê³„ì•½ì„ ë°°í¬í•˜ê¸° ìœ„í•´ ë§ˆì¼“í”Œë ˆì´ìŠ¤ì— ë³´ë‚¼ ë©”ì‹œì§€ë¥¼ ì‘ì„±í•˜ê³  ì‹¤ì œë¡œ ì´ ë©”ì‹œì§€ë¥¼ ë³´ë‚´ëŠ” ì¼ë§Œ ë‚¨ì•„ ìˆìŠµë‹ˆë‹¤.

ë¨¼ì €, ìƒˆ íŒë§¤ ê³„ì•½ì˜ StateInitì„ ì €ì¥í•  ì…€ì„ ìƒì„±í•©ë‹ˆë‹¤.

```ts
public async deploy(wallet: OpenedWallet): Promise<number> {
    const stateInit = beginCell()
      .store(storeStateInit(this.stateInit))
      .endCell();
}
```

ë©”ì‹œì§€ ë³¸ë¬¸ì´ í¬í•¨ëœ ì…€ì„ ìƒì„±í•©ë‹ˆë‹¤. ë¨¼ì € ì—°ì‚° ì½”ë“œë¥¼ 1ë¡œ ì„¤ì •í•´ì•¼ í•©ë‹ˆë‹¤(ë§ˆì¼“í”Œë ˆì´ìŠ¤ì— ìƒˆ íŒë§¤ ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ë¥¼ ë°°í¬í•  ê²ƒì„ì„ ë‚˜íƒ€ë‚´ê¸° ìœ„í•´). ê·¸ëŸ° ë‹¤ìŒ ìƒˆë¡œìš´ íŒë§¤ ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ë¡œ ì „ì†¡í•  ì½”ì¸ì„ ì €ì¥í•´ì•¼ í•©ë‹ˆë‹¤. ë§ˆì§€ë§‰ìœ¼ë¡œ ìƒˆ ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ì˜ stateInitì— ëŒ€í•œ ì°¸ì¡° 2ì™€ ì´ ìƒˆ ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ë¡œ ì „ì†¡ë  ë³¸ë¬¸ì„ ì €ì¥í•´ì•¼ í•©ë‹ˆë‹¤.

```ts
const payload = beginCell();
payload.storeUint(1, 32);
payload.storeCoins(toNano("0.05"));
payload.storeRef(stateInit);
payload.storeRef(new Cell());
```

ë§ˆì§€ë§‰ìœ¼ë¡œ ë©”ì‹œì§€ë¥¼ ë³´ë‚´ê² ìŠµë‹ˆë‹¤:

```ts
const seqno = await wallet.contract.getSeqno();
await wallet.contract.sendTransfer({
  seqno,
  secretKey: wallet.keyPair.secretKey,
  messages: [
    internal({
      value: "0.05",
      to: this.data.marketplaceAddress,
      body: payload.endCell(),
    }),
  ],
  sendMode: SendMode.IGNORE_ERRORS + SendMode.PAY_GAS_SEPARATELY,
});
return seqno;
```

íŒë§¤ ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ê°€ ë°°í¬ë˜ë©´ ë‚¨ì€ ê²ƒì€ NFT ì•„ì´í…œì˜ ì†Œìœ ìë¥¼ ì´ íŒë§¤ ì£¼ì†Œë¡œ ë³€ê²½í•˜ëŠ” ê²ƒë¿ì…ë‹ˆë‹¤.

### í•­ëª© ì „ì†¡

ì•„ì´í…œì„ ì „ì†¡í•œë‹¤ëŠ” ê²ƒì€ ë¬´ì—‡ì„ ì˜ë¯¸í•˜ë‚˜ìš”? ì†Œìœ ìì˜ ì§€ê°‘ì—ì„œ ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ë¡œ ì•„ì´í…œì˜ ìƒˆ ì†Œìœ ìê°€ ëˆ„êµ¬ì¸ì§€ì— ëŒ€í•œ ì •ë³´ë¥¼ ë‹´ì€ ë©”ì‹œì§€ë¥¼ ì „ì†¡í•˜ê¸°ë§Œ í•˜ë©´ ë©ë‹ˆë‹¤.

NftItem.ts\`ë¡œ ì´ë™í•˜ì—¬ í•´ë‹¹ ë©”ì‹œì§€ì˜ ë³¸ë¬¸ì„ ìƒì„±í•˜ëŠ” ìƒˆë¡œìš´ ì •ì  ë©”ì„œë“œë¥¼ NftItem í´ë˜ìŠ¤ì—ì„œ ìƒì„±í•©ë‹ˆë‹¤:

ë¹ˆ ì…€ì„ ë§Œë“¤ê³  ë°ì´í„°ë¥¼ ì±„ìš°ê¸°ë§Œ í•˜ë©´ ë©ë‹ˆë‹¤.

```ts
static createTransferBody(params: {
    newOwner: Address;
    responseTo?: Address;
    forwardAmount?: bigint;
  }): Cell {
    const msgBody = beginCell();
    msgBody.storeUint(0x5fcc3d14, 32); // op-code 
    msgBody.storeUint(0, 64); // query-id
    msgBody.storeAddress(params.newOwner);

  }
```

ìƒˆ ì†Œìœ ìì˜ ì‘ì—… ì½”ë“œ, ì¿¼ë¦¬ ID, ì£¼ì†Œ ì™¸ì—ë„ ì„±ê³µì ì¸ ì „ì†¡ í™•ì¸ê³¼ í•¨ê»˜ ì‘ë‹µì„ ë³´ë‚¼ ì£¼ì†Œì™€ ìˆ˜ì‹  ë©”ì‹œì§€ ì½”ì¸ì˜ ë‚˜ë¨¸ì§€ ë¶€ë¶„ë„ ì €ì¥í•´ì•¼ í•©ë‹ˆë‹¤. ìƒˆ ì†Œìœ ìì—ê²Œ ì „ë‹¬ë  TONì˜ ì–‘ê³¼ ë¬¸ì í˜ì´ë¡œë“œë¥¼ ë°›ì„ì§€ ì—¬ë¶€.

```ts
msgBody.storeAddress(params.responseTo || null);
msgBody.storeBit(false); // no custom payload
msgBody.storeCoins(params.forwardAmount || 0);
msgBody.storeBit(0); // no forward_payload 

return msgBody.endCell();
```

ê·¸ë¦¬ê³  NFTë¥¼ ì „ì†¡í•˜ëŠ” ì „ì†¡ í•¨ìˆ˜ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.

```ts
static async transfer(
    wallet: OpenedWallet,
    nftAddress: Address,
    newOwner: Address
  ): Promise<number> {
    const seqno = await wallet.contract.getSeqno();

    await wallet.contract.sendTransfer({
      seqno,
      secretKey: wallet.keyPair.secretKey,
      messages: [
        internal({
          value: "0.05",
          to: nftAddress,
          body: this.createTransferBody({
            newOwner,
            responseTo: wallet.contract.address,
            forwardAmount: toNano("0.02"),
          }),
        }),
      ],
      sendMode: SendMode.IGNORE_ERRORS + SendMode.PAY_GAS_SEPARATELY,
    });
    return seqno;
  }
```

ì¢‹ì•„ìš”, ì´ì œ ê±°ì˜ ë‹¤ ëë‚¬ìŠµë‹ˆë‹¤. ë‹¤ì‹œ `app.ts`ë¡œ ëŒì•„ê°€ì„œ íŒë§¤í•  NFTì˜ ì£¼ì†Œë¥¼ ê°€ì ¸ì™€ ë³´ê² ìŠµë‹ˆë‹¤:

```ts
const nftToSaleAddress = await NftItem.getAddressByIndex(collection.address, 0);
```

íŒë§¤ì— ëŒ€í•œ ì •ë³´ë¥¼ ì €ì¥í•  ë³€ìˆ˜ë¥¼ ìƒì„±í•©ë‹ˆë‹¤:

```ts
const saleData: GetGemsSaleData = {
  isComplete: false,
  createdAt: Math.ceil(Date.now() / 1000),
  marketplaceAddress: marketplace.address,
  nftAddress: nftToSaleAddress,
  nftOwnerAddress: null,
  fullPrice: toNano("10"),
  marketplaceFeeAddress: wallet.contract.address,
  marketplaceFee: toNano("1"),
  royaltyAddress: wallet.contract.address,
  royaltyAmount: toNano("0.5"),
};
```

ì´ë ‡ê²Œ í•˜ë©´ íŒë§¤ ê³„ì•½ì´ ë°°í¬ ì‹œ ì½”ì¸ì„ ìˆ˜ë½í•˜ê²Œ ë˜ë¯€ë¡œ nftOwnerAddressë¥¼ nullë¡œ ì„¤ì •í–ˆìŠµë‹ˆë‹¤.

ì„¸ì¼ì„ ë°°í¬í•©ë‹ˆë‹¤:

```ts
const nftSaleContract = new NftSale(saleData);
seqno = await nftSaleContract.deploy(wallet);
await waitSeqno(seqno, wallet);
```

... ê·¸ë¦¬ê³  ì „ì†¡í•˜ì„¸ìš”!

```ts
await NftItem.transfer(wallet, nftToSaleAddress, nftSaleContract.address);
```

ì´ì œ í”„ë¡œì íŠ¸ë¥¼ ì‹œì‘í•˜ê³  ê·¸ ê³¼ì •ì„ ì¦ê¸¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤!

```
yarn start
```

https://testnet.getgems.io/collection/\<YOUR_COLLECTION_ADDRESS_HERE> ìœ¼ë¡œ ì´ë™í•˜ì—¬ ì´ ì™„ë²½í•œ ì˜¤ë¦¬ë¥¼ ë³´ì„¸ìš”!

## ê²°ë¡ 

ì˜¤ëŠ˜ ì—¬ëŸ¬ë¶„ì€ TONì— ëŒ€í•´ ë§ì€ ìƒˆë¡œìš´ ê²ƒì„ ë°°ì› ê³  í…ŒìŠ¤íŠ¸ë„·ì—ì„œ ìì‹ ë§Œì˜ ì•„ë¦„ë‹¤ìš´ NFT ì»¬ë ‰ì…˜ì„ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤! ì—¬ì „íˆ ê¶ê¸ˆí•œ ì ì´ ìˆê±°ë‚˜ ì˜¤ë¥˜ë¥¼ ë°œê²¬í–ˆë‹¤ë©´ ì–¸ì œë“ ì§€ ì‘ì„±ìì—ê²Œ í¸ì§€ë¥¼ ë³´ë‚´ì£¼ì„¸ìš” - [@coalus](https://t.me/coalus).

## ì°¸ì¡°

- [ê²Ÿì ¬ìŠ¤ NFT ì»¨íŠ¸ë™íŠ¸](https://github.com/getgems-io/nft-contracts)
- [NFT ìŠ¤íƒ ë‹¤ë“œ](https://github.com/ton-blockchain/TEPs/blob/master/text/0062-nft-standard.md)

## ì €ì ì†Œê°œ

- í…”ë ˆê·¸ë¨](https://t.me/coalus) ë˜ëŠ” [ê¹ƒí—ˆë¸Œ](https://github.com/coalus)ì—ì„œ Coalusë¥¼ ë§Œë‚˜ë³´ì„¸ìš”.
