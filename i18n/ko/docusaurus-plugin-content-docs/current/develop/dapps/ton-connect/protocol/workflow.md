# 워크플로

## 개요

### HTTP 브리지를 통한 최초 연결

1. 앱이 브리지와 SSE 연결을 시작합니다;
2. 앱은 유니버설 링크 또는 디링크 또는 QR 코드를 통해 지갑에 연결 정보를 전달합니다;
3. 월렛은 주어진 매개변수를 사용하여 브리지에 연결하고 연결 정보를 로컬에 저장합니다;
4. 지갑은 브릿지를 사용하여 계정 정보를 앱으로 전송합니다;
5. 앱이 메시지를 수신하고 연결 정보를 로컬에 저장합니다;

### http 브리지로 다시 연결

1. 앱이 로컬 스토리지에서 연결 정보를 읽습니다.
2. 앱이 브릿지에 연결됨
3. 사용자가 지갑을 열면 지갑은 저장된 연결 정보를 사용하여 브리지에 연결합니다.

### JS 브리지를 통한 최초 연결

1. 앱이 `window.[walletJsBridgeKey].tonconnect`의 존재를 확인합니다.
2. 앱이 `window.[walletJsBridgeKey].tonconnect.connect()`를 호출하고 응답을 기다립니다.
3. 월렛은 계정 정보를 앱으로 전송합니다;

### 일반적인 요청 및 응답하기

1. 앱과 지갑이 연결된 상태입니다.
2. 앱이 요청을 생성하여 브리지로 전송합니다.
3. 브릿지가 지갑으로 메시지를 전달합니다.
4. 월렛이 응답을 생성하여 브리지로 전송합니다.
5. Bridge가 앱으로 메시지를 전달합니다.

## 사양

자세한 사양은 [여기](https://github.com/ton-blockchain/ton-connect/blob/main/workflows.md#details)에서 확인하세요.

## 참고 항목

- [톤 커넥트 개요](/dapps/ton-connect/)
- [연동 매뉴얼](/개발/앱/톤-연결/연동)
- [텔레그램 봇 연동 매뉴얼](/개발/앱/톤-커넥트/tg-bot-integration)
