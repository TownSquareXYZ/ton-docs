# TON 노드 명령줄 플래그

이 문서는 TON 노드 실행 시 사용 가능한 다양한 플래그와 옵션을 설명합니다. 각 플래그는 짧은 이름, 긴 이름, 기본값(해당되는 경우) 및 기능에 대한 설명을 포함합니다.

## 일반 옵션

| 옵션                      | 설명                                          | 기본값                | 사용법                      |
| ----------------------- | ------------------------------------------- | ------------------ | ------------------------ |
| `-v`, `--verbosity`     | 로그 출력의 상세 수준을 설정                            | `INFO` (2)         | `-v <level>` (예: `-v 2`) |
| `-V`, `--version`       | validator-engine 빌드 정보 표시                   | N/A                | `-V`                     |
| `-h`, `--help`          | 도움말 정보 출력                                   | N/A                | `-h`                     |
| `-C`, `--global-config` | 전역 설정 읽을 파일 지정(부트스트랩 노드, 공개 라이트서버, 초기 블록 등) | N/A                | `-C <file>`              |
| `-c`, `--local-config`  | 로컬 노드 설정 쓰기/읽기 파일 지정(주소, 키 등)               | N/A                | `-c <file>`              |
| `-I`, `--ip`            | 인스턴스의 IP 주소와 포트 지정. 첫 실행 시 사용               | N/A                | `-I <ip:port>`           |
| `-D`, `--db`            | 데이터베이스 루트 디렉토리 지정                           | N/A                | `-D <path>`              |
| `-f`, `--fift-dir`      | Fift 스크립트 디렉토리 지정                           | N/A                | `-f <path>`              |
| `-d`, `--daemonize`     | 표준 입력을 닫고 새 세션을 생성하여 프로세스를 데몬화              | 비활성화               | `-d`                     |
| `-l`, `--logname`       | 로그를 쓸 로그 파일 지정                              | N/A                | `-l <file>`              |
| `-s`, `--state-ttl`     | 상태의 TTL(time-to-live) 초 단위로 설정              | `86400`초 (1일)      | `-s <seconds>`           |
| `-m`, `--mempool-num`   | 멤풀의 최대 외부 메시지 수 지정                          | 무제한                | `-m <number>`            |
| `-b`, `--block-ttl`     | 블록의 TTL을 초 단위로 설정                           | `86400`초 (1일)      | `-b <seconds>`           |
| `-A`, `--archive-ttl`   | 보관된 블록의 TTL을 초 단위로 설정                       | `604800`초 (7일)     | `-A <seconds>`           |
| `-K`, `--key-proof-ttl` | 키 블록의 TTL을 초 단위로 설정                         | `315360000`초 (10년) | `-K <seconds>`           |
| `-S`, `--sync-before`   | 초기 동기화 중 지정된 초 동안의 모든 블록 다운로드               | `3600`초 (1시간)      | `-S <seconds>`           |
| `-t`, `--threads`       | 사용할 스레드 수 지정                                | `7`                | `-t <number>`            |
| `-u`, `--user`          | 프로세스를 실행하는 사용자 변경                           | N/A                | `-u <username>`          |

## 고급 옵션

| 옵션                                | 설명                                                                                | 기본값           | 사용법                                          |
| --------------------------------- | --------------------------------------------------------------------------------- | ------------- | -------------------------------------------- |
| `--shutdown-at`                   | 주어진 Unix 타임스탬프에 검증자 종료 예약                                                         | N/A           | `--shutdown-at <timestamp>`                  |
| `-T`, `--truncate-db`             | 지정된 시퀀스 번호를 새로운 최상위 마스터체인 블록 시퀀스 번호로 하여 데이터베이스 자름                                 | N/A           | `-T <seqno>`                                 |
| `-U`, `--unsafe-catchain-restore` | 느리고 위험한 캣체인 복구 방법 활성화                                                             | 비활성화          | `-U <catchain-seqno>`                        |
| `-F`, `--unsafe-catchain-rotate`  | 강제적이고 위험한 캣체인 순환 활성화                                                              | 비활성화          | `-F <block-seqno>:<catchain-seqno>:<height>` |
| `--celldb-compress-depth`         | 전체 서브트리가 있는 깊이 X의 셀을 저장하여 CellDb 최적화                                              | `0` (비활성화)    | `--celldb-compress-depth <depth>`            |
| `--max-archive-fd`                | 아카이브 관리자의 열린 파일 디스크립터 수 제한. `0`은 무제한                                              | `0` (무제한)     | `--max-archive-fd <number>`                  |
| `--archive-preload-period`        | 시작 시 과거 X초 동안의 아카이브 슬라이스 미리 로드                                                    | `0`초 (비활성화)   | `--archive-preload-period <seconds>`         |
| `--enable-precompiled-smc`        | 미리 컴파일된 스마트 컨트랙트 실행 활성화(실험적)                                                      | 비활성화          | `--enable-precompiled-smc`                   |
| `--disable-rocksdb-stats`         | RocksDb 통계 수집 비활성화                                                                | 활성화           | `--disable-rocksdb-stats`                    |
| `--nonfinal-ls`                   | 미확정 블록에 대한 특별 로컬 상태(LS) 쿼리 활성화                                                    | 비활성화          | `--nonfinal-ls`                              |
| `--celldb-cache-size`             | CellDb의 RocksDb용 블록 캐시 크기를 바이트 단위로 설정                                             | `1G` (1기가바이트) | `--celldb-cache-size <size>`                 |
| `--celldb-direct-io`              | CellDb의 RocksDb에 대한 직접 I/O 모드 활성화(캐시 크기가 30G 이상일 때만 적용)                           | 비활성화          | `--celldb-direct-io`                         |
| `--celldb-preload-all`            | 시작 시 CellDb의 모든 셀 미리 로드                                                           | 비활성화          | `--celldb-preload-all`                       |
| `--celldb-in-memory`              | 전체 celldb를 메모리에 저장. 기본 설정의 검증자의 경우 celldb 크기가 ~80-100GB이므로 128GB는 필수이고 256GB가 선호됨 | 비활성화          | `--celldb-in-memory`                         |
| `--catchain-max-block-delay`      | 새 캣체인 블록 생성 전 지연 시간을 초 단위로 설정                                                     | `0.4`초        | `--catchain-max-block-delay <seconds>`       |
| `--catchain-max-block-delay-slow` | 너무 긴 라운드에 대한 최대 연장 캣체인 블록 지연을 초 단위로 설정                                            | `1.0`초        | `--catchain-max-block-delay-slow <seconds>`  |
| `--fast-state-serializer`         | 더 많은 RAM을 필요로 하는 더 빠른 영구 상태 직렬화기 활성화                                              | 비활성화          | `--fast-state-serializer`                    |

## 세션 로그 옵션

| 옵션               | 설명               | 기본값                       | 사용법                     |
| ---------------- | ---------------- | ------------------------- | ----------------------- |
| `--session-logs` | 검증자 세션 통계용 파일 지정 | `{logname}.session-stats` | `--session-logs <file>` |
