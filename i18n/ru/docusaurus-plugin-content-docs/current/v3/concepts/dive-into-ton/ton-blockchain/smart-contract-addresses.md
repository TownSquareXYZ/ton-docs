# Адреса смарт-контрактов

[//]: # "TODO, это gpt"

В блокчейне TON каждый актор, включая кошельки и смарт-контракты, представлен адресом. Эти адреса имеют решающее значение при получении и отправки сообщений и транзакций. Существует два основных формата адресов смарт-контрактов: **необработанные адреса** и **удобные для пользователя адреса**.

## Компоненты адреса

Каждый адрес в TON состоит из двух основных компонентов:

- **Workchain ID**: подписанное 32-битное целое число, которое обозначает, к какому воркчейну принадлежит контракт (например, `-1` для Мастерчейна и `0` для Бейсчейна).
- **Account ID**: Уникальный идентификатор контракта, обычно длиной 256 бит для Мастерчейна и Бейсчейна.

## Необработанные и удобные для пользователя адреса

### Необработанный адрес

**Необработанный адрес** содержит только основные элементы:

- **Workchain ID** (например, `-1` для Мастерчейна)
- **Account ID**: 256-битный уникальный идентификатор

Пример:\
`-1:fcb91a3a3816d0f7b8c2c76108b8a9bc5a6b7a55bd79f8ab101c52db29232260`

Однако у необработанных адресов есть две основные проблемы:

1. У них нет встроенной проверки ошибок, что означает, что ошибка при копировании может привести к потере средств.
2. Они не поддерживают дополнительные функции, такие как флаги возврата/невозврата.

### Удобный для пользователя адрес

**Удобный для пользователя адрес** решает эти проблемы, включив:

1. **Флаги**: указывает, является ли адрес возвратным (для контрактов) или нет (для кошельков).
2. **Контрольная сумма**: 2-байтовый механизм проверки ошибок (CRC16), который помогает обнаруживать ошибки перед отправкой.
3. **Кодирование**: Преобразует необработанный адрес в читаемую компактную форму с использованием base64 или base64url.

К примеру, тот же необработанный адрес можно преобразовать в удобный для пользователя адрес, например:\
`kf/8uRo6OBbQ97jCx2EIuKm8Wmt6Vb15+KsQHFLbKSMiYIny` (base64)

Удобные для пользователя адреса делают транзакции более безопасными, предотвращая ошибки и позволяя возвращать средства в случае неудачных транзакций.

## Состояния адресов

Каждый адрес в TON может находиться в одном из следующих состояний:

- **Nonexist**: Адрес не имеет данных (начальное состояние для всех адресов).
- **Uninit**: Адрес имеет баланс, но нет кода смарт-контракта.
- **Active**: Адрес активен с кодом смарт-контракта и балансом.
- **Frozen**: Адрес заблокирован из-за того, что расходы на хранение превышают его баланс.

## Преобразование между форматами адресов

Для преобразования между необработанными и удобными для пользователя адресами вы можете использовать API TON или инструменты разработчика, такие как [ton.org/address](https://ton.org/address). Эти утилиты обеспечивают бесперебойное преобразование и гарантируют правильный формат перед отправкой транзакций.

Более подробную информацию о том, как обрабатывать эти адреса, включая примеры кодирования и безопасность транзакций, вы можете найти в полном руководстве в [Документации по адресам](/v3/documentation/smart-contracts/addresses).

## См. также

- [Документация по адресам смарт-контрактов](/v3/documentation/smart-contracts/addresses)
